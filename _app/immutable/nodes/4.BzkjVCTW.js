import{i as N}from"../chunks/C2GWQxDB.js";import{s as He,i as oo,f as ba,r as q,a as vt,b as so,d as no}from"../chunks/MZMrjQI2.js";import{bd as lo,aV as io,u as b,r as co,h as vo,f as Ce,g as ae,i as m,V as uo,x as f,ab as po,X as ut,Y as mo,j as y,Z as go,k as I,l as a,s as o,y as e,a2 as R,_ as fo,$ as bo,z as s,bc as me,m as t,be as xa,bf as xo,n as Se,a0 as $,F as _e,b3 as ho,I as _o}from"../chunks/DgmysNpv.js";import{I as Pe,e as pt,i as fr}from"../chunks/Cz9d-ABh.js";import{b as Ct}from"../chunks/CLyvDTHk.js";import{s as yo}from"../chunks/Bd-89TeU.js";import"../chunks/CoVX5dhz.js";import{l as Te,s as Ne}from"../chunks/BDtOeg6f.js";import{T as wo}from"../chunks/Bpc_b82n.js";import{E as br}from"../chunks/DuhbFIjo.js";function B(p,_,i=_){var E=lo();io(p,"input",j=>{var F=j?p.defaultValue:p.value;if(F=ha(p)?_a(F):F,i(F),E&&F!==(F=_())){var n=p.selectionStart,u=p.selectionEnd;p.value=F??"",u!==null&&(p.selectionStart=n,p.selectionEnd=Math.min(u,p.value.length))}}),(vo&&p.defaultValue!==p.value||b(_)==null&&p.value)&&i(ha(p)?_a(p.value):p.value),co(()=>{var j=_();ha(p)&&j===_a(p.value)||p.type==="date"&&!j&&!p.value||j!==p.value&&(p.value=j??"")})}function ha(p){var _=p.type;return _==="number"||_==="range"}function _a(p){return p===""?null:+p}function xr(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"m18 15-6-6-6 6"}]];Pe(p,Ne({name:"chevron-up"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function $o(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];Pe(p,Ne({name:"copy"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function ko(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];Pe(p,Ne({name:"download"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function So(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];Pe(p,Ne({name:"eye-off"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function hr(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];Pe(p,Ne({name:"info"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function _r(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M12 20h9"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"}]];Pe(p,Ne({name:"pen-line"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function yr(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Pe(p,Ne({name:"plus"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function wr(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Pe(p,Ne({name:"save"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function ya(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];Pe(p,Ne({name:"trash-2"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function Co(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];Pe(p,Ne({name:"upload"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}function $r(p,_){const i=Te(_,["children","$$slots","$$events","$$legacy"]),E=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Pe(p,Ne({name:"x"},()=>i,{get iconNode(){return E},children:(j,F)=>{var n=Ce(),u=ae(n);He(u,_,"default",{}),m(j,n)},$$slots:{default:!0}}))}var jo=y(`<style>/* Enhanced custom hotspot styles */
    .custom-hotspot {
      height: 50px;
      width: 50px;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .custom-hotspot:hover {
      transform: scale(1.2);
      box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    }
    
    div.custom-tooltip span {
      visibility: hidden;
      position: absolute;
      border-radius: 3px;
      background-color: #fff;
      color: #000;
      text-align: center;
      max-width: 200px;
      padding: 5px 10px;
      margin-left: -220px;
      cursor: default;
    }
    
    div.custom-tooltip:hover span{
      visibility: visible;
    }
    
    div.custom-tooltip:hover span:after {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border-width: 10px;
      border-style: solid;
      border-color: #fff transparent transparent transparent;
      bottom: -20px;
      left: -10px;
      margin: 0 50%;
    }</style>`),Ho=y('<div class="mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-start"><!> <div><h3 class="text-yellow-800 font-medium">Large File Detected</h3> <p class="text-yellow-700 text-sm mt-1"> </p></div></div></div>'),Po=y('<div class="bg-white rounded-lg shadow-sm border p-6"><div class="text-center"><div class="border-2 border-dashed border-gray-300 rounded-lg p-12 hover:border-gray-400 transition-colors"><!> <div class="space-y-2"><p class="text-lg font-medium text-gray-900">Upload First 360° Panoramic Image</p> <p class="text-gray-500">Start by uploading your first panoramic scene</p> <p class="text-sm text-gray-400">Supports: JPG, PNG, WebP • Auto-compression for large files</p></div> <input type="file" accept="image/*" class="hidden"/> <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Choose File</button></div></div></div>'),To=y('<div class="flex items-center bg-blue-100 rounded-md p-2"><input type="text" class="text-sm bg-transparent border-none outline-none w-24"/> <button class="ml-1 text-green-600 hover:text-green-700"><!></button> <button class="ml-1 text-red-600 hover:text-red-700"><!></button></div>'),No=y('<button class="ml-1 p-1 text-red-400 hover:text-red-600" title="Delete scene"><!></button>'),Lo=y('<button> <span class="ml-2 text-xs opacity-75"> </span></button> <button class="ml-1 p-1 text-gray-400 hover:text-gray-600" title="Edit name"><!></button> <!>',1),Mo=y('<div class="flex items-center"><!></div>'),Eo=y("<!> Hide Hotspots",1),Ao=y("<!> Show Hotspots",1),Uo=y('<div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-75 z-10"><div class="text-center text-white"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"></div> <p>Loading Optimized 360° Viewer...</p></div></div>'),Io=y('<div class="absolute top-4 left-4 bg-green-600 text-white px-3 py-2 rounded-md text-sm z-20 flex items-center gap-2"><div class="w-2 h-2 bg-white rounded-full animate-pulse"></div> Click anywhere in the 360° view to add hotspot</div>'),Do=y('<div class="relative w-full h-96 bg-black rounded-lg overflow-hidden"><!> <!> <div id="pannellum-viewer"></div></div>'),Fo=y('<span class="text-green-300"> </span>'),zo=y('<div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 bg-black bg-opacity-75 text-white text-xs rounded whitespace-nowrap"> <!></div>'),Oo=y('<div class="absolute transform -translate-x-1/2 -translate-y-1/2 z-10"><div class="relative"><button><!></button> <!></div></div>'),Ro=y('<div role="button" tabindex="0"><img alt="Panoramic view" class="w-full h-auto max-h-96 object-contain bg-black" draggable="false"/> <!></div>'),Ko=y('<span class="ml-2 text-green-600">Compressed ✓</span>'),Bo=y('<span class="font-medium"> </span> <span class="ml-2"> </span> <!>',1),Jo=y('<div class="bg-white rounded-lg shadow-sm border overflow-hidden"><div class="border-b bg-gray-50 p-4"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><div class="text-sm font-medium text-gray-700">Editing: <span class="text-blue-600"> </span></div></div> <div class="flex items-center space-x-3"><button><!> </button> <button class="flex items-center px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!></button> <button class="flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"><!> </button> <button class="flex items-center px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"><!> Clear All</button></div></div></div> <div class="relative"><!></div> <div class="border-t bg-gray-50 px-4 py-2"><div class="flex items-center justify-between text-sm text-gray-600"><div><!></div> <div>Hotspots: <span class="font-medium"> </span> <span class="ml-2 text-blue-600"> </span> <span class="ml-2 text-green-600"> </span></div></div></div></div>'),Vo=y('<div class="bg-white rounded-lg shadow-sm border p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-gray-900"> </h2> <button class="flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> Add Scene</button></div> <div class="flex flex-wrap gap-2 mb-4"></div> <input type="file" accept="image/*" class="hidden"/></div> <!>',1),qo=y("<option> </option>"),Yo=y('<p class="text-sm text-gray-500 mt-1">Add more scenes to enable navigation</p>'),Wo=y('<div><label class="block text-sm font-medium text-gray-700 mb-2">Target Scene</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Select target scene...</option><!></select> <!></div>'),Xo=y('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Edit Hotspot</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Hotspot Name</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., Living Room, Kitchen"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Hotspot Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>ℹ️ Information</option><option>🔺 Navigation</option></select></div> <!> <div class="flex space-x-2"><button class="flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50"><!> Save</button> <button class="flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> Cancel</button></div></div></div>'),Go=y('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800"><!> NAV</span>'),Zo=y('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800"><!> INFO</span>'),Qo=y("<br/> ",1),es=y('<div class="flex items-center justify-between p-3 bg-gray-50 rounded-md"><div class="flex-1"><div class="flex items-center gap-2"><div class="text-sm font-medium text-gray-900"><!> <span class="ml-2"> </span></div></div> <div class="text-xs text-gray-500 mt-1"> <!></div></div> <div class="flex items-center space-x-2"><button class="p-1 text-blue-600 hover:text-blue-700" title="Edit hotspot"><!></button> <button class="p-1 text-red-600 hover:text-red-700" title="Delete hotspot"><!></button></div></div>'),ts=y('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4"> </h3> <div class="space-y-2 max-h-64 overflow-y-auto"></div></div>'),as=y('<div class="mt-4"><pre class="bg-gray-900 text-green-400 p-4 rounded-md text-xs overflow-auto max-h-64 font-mono"> </pre></div>'),rs=y('<div class="flex justify-between text-sm"><span class="text-gray-600">Luas Tanah:</span> <span class="font-medium"> </span></div>'),os=y('<div class="flex justify-between text-sm"><span class="text-gray-600">Luas Bangunan:</span> <span class="font-medium"> </span></div>'),ss=y('<div class="flex justify-between text-sm"><span class="text-gray-600">Lantai:</span> <span class="font-medium"> </span></div>'),ns=y('<div class="flex justify-between text-sm"><span class="text-gray-600">Durasi:</span> <span class="font-medium"> </span></div>'),ls=y('<div class="border-t pt-3 mt-3"><p class="text-sm font-medium text-gray-700 mb-2">Project Stats:</p> <!> <!> <!> <!></div>'),is=y('<span class="inline-block text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"> </span>'),ds=y('<div class="border-t pt-3 mt-3"><p class="text-sm font-medium text-gray-700 mb-2">Features:</p> <div class="flex flex-wrap gap-1"></div></div>'),cs=y('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Project Summary</h3> <div class="space-y-3"><div class="flex justify-between text-sm"><span class="text-gray-600">Project:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Category:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Client:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Status:</span> <span class="font-medium capitalize"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Year:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Total Scenes:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Total Hotspots:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Info Hotspots:</span> <span class="font-medium text-blue-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Nav Hotspots:</span> <span class="font-medium text-green-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Current Scene:</span> <span class="font-medium"> </span></div> <!> <!></div></div>'),vs=y('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">Enhanced Panoramic Hotspot Editor</h1> <p class="text-gray-600">Create optimized multi-scene 360° experiences with automatic image compression</p></div> <!> <div class="grid grid-cols-1 xl:grid-cols-3 gap-8"><div class="xl:col-span-2 space-y-6"><div class="bg-white rounded-lg shadow-sm border p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Project Settings</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Project Name *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Modern Minimalist House" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Slug (URL)</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="modern-minimalist (auto-generated if empty)"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Japandi Style" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Location *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Bandar Lampung" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Client *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Keluarga Raharjo" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Year</label> <input type="number" min="2020" max="2030" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="2024"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Status</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Completed</option><option>In Progress</option><option>Planning</option><option>On Hold</option></select></div></div> <div class="mb-6"><label class="block text-sm font-medium text-gray-700 mb-2">Description *</label> <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Rumah bergaya minimalis modern dengan konsep open space yang mengutamakan pencahayaan alami..." required></textarea></div> <div class="mb-6"><h3 class="text-md font-medium text-gray-700 mb-3">Project Images (Optional)</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Thumbnail URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Desktop URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Mobile URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Tablet URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div></div> <p class="text-xs text-gray-500 mt-2">If empty, default placeholder images will be used</p></div> <div class="mb-6"><label class="block text-sm font-medium text-gray-700 mb-2">Features (Optional)</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="3 Kamar Tidur, 2 Kamar Mandi, Taman Dalam, Carport, Smart Home, Open Kitchen"/> <p class="text-xs text-gray-500 mt-1">Separate features with commas</p></div> <div class="mb-6"><h3 class="text-md font-medium text-gray-700 mb-3">Project Stats (Optional)</h3> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Luas Tanah</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="150m²"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Luas Bangunan</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="120m²"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Lantai</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="2"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Durasi</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="8 bulan"/></div></div></div> <div><h3 class="text-md font-medium text-gray-700 mb-3">Project Details (Optional)</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Tipe Proyek</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Japandi (Japanese Scandinavian) Style"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Architect</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Kurnia Firmanda Ageng, S.Ars"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Lokasi Detail</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Sukarame, Bandar Lampung"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Interior Designer</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Kurnia Firmanda Ageng, S.Ars"/></div></div></div></div> <!></div> <div class="space-y-6"><!> <!> <div class="bg-white rounded-lg shadow-sm border p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-gray-900">Export Project</h3> <button class="text-sm text-blue-600 hover:text-blue-700"> </button></div> <div class="space-y-3"><button class="w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> Download Project JSON</button> <button class="w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> </button> <!></div></div> <!> <div class="bg-blue-50 rounded-lg border border-blue-200 p-6"><h3 class="text-lg font-semibold text-blue-900 mb-3">How to Use</h3> <div class="space-y-2 text-sm text-blue-800"><p><strong>1.</strong> Fill in project settings (required fields marked with *)</p> <p><strong>2.</strong> Upload 360° panoramic images (auto-compression for large files)</p> <p><strong>3.</strong> Click "Add Hotspot" then click on the image to place hotspots</p> <p><strong>4.</strong> Choose hotspot type: Info (ℹ️) or Navigation (🔺)</p> <p><strong>5.</strong> For navigation hotspots, select target scene</p> <p><strong>6.</strong> Use "360° Preview" to test navigation and interactions</p> <p><strong>7.</strong> Export your complete project as JSON when ready</p></div></div> <div class="bg-green-50 rounded-lg border border-green-200 p-6"><h3 class="text-lg font-semibold text-green-900 mb-3">Performance & Data Tips</h3> <div class="space-y-2 text-sm text-green-800"><p>• <strong>Required fields</strong>: Name, Category, Location, Client, Description</p> <p>• <strong>Optional fields</strong>: All image URLs, features, stats, and project details</p> <p>• <strong>Images</strong>: Use full URLs for thumbnail, mobile, tablet, desktop versions</p> <p>• <strong>Features</strong>: Separate multiple features with commas</p> <p>• <strong>Large files</strong>: Automatically compressed to improve loading</p> <p>• <strong>Format</strong>: JPEG provides best balance of quality/size</p> <p>• <strong>Navigation flow</strong>: Test in 360° mode before export</p></div></div></div></div></div></div>');function ws(p,_){uo(_,!1);const i=f(),E=f(),j=f(),F=f();let n=f([]),u=f(0),w=f([]),G=f(!1),Z=f(null),mt=f(!0),be=f(""),le=f("info"),ce=f(""),jt=f(),Ae=f(),H=f(),A=null,je=f(!1),Xe=f(!1),Ht=f(!1),gt=f(!1),Ue=f(""),Ve=f(null),qe=f("Modern Minimalist House"),Pt=f("Interactive 360° panoramic experience with multi-scene navigation"),ft=f("Japandi Style"),Ge=f("Bandar Lampung"),bt=f("Keluarga Raharjo"),xt=f(new Date().getFullYear()),Ze=f("completed"),Tt=f(""),Qe=f(""),et=f(""),tt=f(""),at=f(""),Ie=f(""),De=f(""),Fe=f(""),ze=f(""),Oe=f(""),ht=f(""),_t=f("Kurnia Firmanda Ageng, S.Ars"),yt=f(""),wt=f("Kurnia Firmanda Ageng, S.Ars"),Nt=f(!1),Lt=f(0);function kr(r,l){const{label:d,type:c,targetSceneKey:g}=typeof l=="object"?l:{label:l,type:"info",targetSceneKey:""};r.classList.add("custom-tooltip");const x=document.createElement("div");x.style.cssText=`
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    `,c==="nav"?(x.innerHTML=`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="m18 15-6-6-6 6"/>
        </svg>
      `,r.style.background="linear-gradient(135deg, #10B981, #059669)",r.style.cursor="pointer"):(x.innerHTML=`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="16" x2="12" y2="12"/>
          <line x1="12" y1="8" x2="12.01" y2="8"/>
        </svg>
      `,r.style.background="linear-gradient(135deg, #56AAB7, #4a9aa6)"),r.appendChild(x);var v=document.createElement("span");v.innerHTML=d,r.appendChild(v),v.style.width=v.scrollWidth-20+"px",v.style.marginLeft=-(v.scrollWidth-r.offsetWidth)/2+"px",v.style.marginTop=-v.scrollHeight-12+"px",c==="nav"&&g&&(r.onclick=h=>{h.stopPropagation();const k=e(n).findIndex(S=>S.name.toLowerCase().replace(/\s+/g,"")===g);k!==-1&&k!==e(u)&&(console.log(`Navigating from scene ${e(u)} to scene ${k}`),$a(k))})}const Sr=(r,l=5,d=.8)=>new Promise(c=>{const g=document.createElement("canvas"),x=g.getContext("2d"),v=new Image;v.onload=()=>{let{width:S,height:M}=v;S>4096&&(M=M*4096/S,S=4096),M>2048&&(S=S*2048/M,M=2048),g.width=S,g.height=M,x.drawImage(v,0,0,S,M),g.toBlob(ve=>{const P=new FileReader;P.onload=D=>c(D.target.result),P.readAsDataURL(ve)},"image/jpeg",d)},v.src=URL.createObjectURL(r)}),Cr=()=>new Promise((r,l)=>{if(window.pannellum){r();return}const d=document.createElement("link");d.rel="stylesheet",d.href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css",document.head.appendChild(d);const c=document.createElement("script");c.src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js",c.onload=()=>{console.log("Pannellum loaded from CDN"),r()},c.onerror=g=>{console.error("Failed to load Pannellum from CDN:",g),l(g)},document.head.appendChild(c)}),wa=async r=>{const l=r.target.files[0];if(l&&l.type.startsWith("image/")){const d=l.size/1048576;s(Lt,d),d>10&&(s(Nt,!0),setTimeout(()=>s(Nt,!1),5e3));try{e(i)&&e(n)[e(u)]&&me(n,e(n)[e(u)].hotspots=[...e(w)]);let c;if(d>5)console.log(`Compressing large image: ${d.toFixed(1)}MB`),c=await Sr(l,5,.8);else{const x=new FileReader;c=await new Promise(v=>{x.onload=h=>v(h.target.result),x.readAsDataURL(l)})}const g={id:Date.now(),name:`Scene ${e(n).length+1}`,imageUrl:c,file:l,hotspots:[]};s(n,[...e(n),g]),s(u,e(n).length-1),s(w,[]),console.log(`Created new scene ${e(u)} with compressed image`)}catch(c){console.error("Error processing image:",c),alert("Error processing image. Please try a different file.")}}},jr=()=>{e(Ae)&&e(Ae).click()},Hr=r=>{if(e(n).length<=1)return;e(i)&&e(n)[e(u)]&&me(n,e(n)[e(u)].hotspots=[...e(w)]),s(n,e(n).filter((d,c)=>c!==r)),e(u)>=e(n).length?s(u,e(n).length-1):e(u)>r&&_o(u,-1);const l=e(n)[e(u)];s(w,l&&l.hotspots?[...l.hotspots]:[]),console.log(`After scene deletion, loaded ${e(w).length} hotspots for scene ${e(u)}`)},$a=r=>{e(i)&&e(n)[e(u)]&&(me(n,e(n)[e(u)].hotspots=[...e(w)]),console.log(`Saved ${e(w).length} hotspots to scene ${e(u)}`)),s(u,r);const l=e(n)[e(u)];s(w,l&&l.hotspots?[...l.hotspots]:[]),console.log(`Loaded ${e(w).length} hotspots for scene ${r}`),s(G,!1),s(Z,null),s(be,""),s(le,"info"),s(ce,""),e(je)&&A&&setTimeout(()=>rt(),100)},Pr=r=>{s(Ve,r),s(Ue,e(n)[r].name)},ka=()=>{e(Ve)!==null&&e(Ue).trim()&&(me(n,e(n)[e(Ve)].name=e(Ue).trim()),s(n,[...e(n)]),s(Ve,null),s(Ue,""))},Sa=()=>{s(Ve,null),s(Ue,"")},Tr=(r,l)=>{const d=l.getBoundingClientRect(),c=(r.clientX-d.left)/d.width*100,g=(r.clientY-d.top)/d.height*100;return{x:Math.round(c*10)/10,y:Math.round(g*10)/10}},Nr=r=>{if(!e(G))return;r.preventDefault();const l=Tr(r,e(jt)),d={id:Date.now(),x:l.x,y:l.y,label:"",scene:"",type:"info",targetScene:"",targetSceneKey:"",icon:"info"};s(w,[...e(w),d]),s(Z,d.id),s(be,""),s(le,"info"),s(ce,""),s(G,!1)},Ca=()=>{if(e(Z)&&e(be).trim()){let r="";if(e(le)==="nav"&&e(ce)){const d=e(n).find(c=>c.id.toString()===e(ce));d&&(r=d.name.toLowerCase().replace(/\s+/g,""))}const l=e(w).map(d=>d.id===e(Z)?{...d,label:e(be).trim(),scene:e(i).name.toLowerCase().replace(/\s+/g,""),type:e(le),targetScene:e(ce),targetSceneKey:r,icon:e(le)==="nav"?"door":"info"}:d);s(w,l),e(i)&&me(i,e(i).hotspots=[...e(w)]),e(je)&&A&&setTimeout(()=>rt(!0),100),s(Z,null),s(be,""),s(le,"info"),s(ce,"")}},ja=r=>{s(w,e(w).filter(l=>l.id!==r)),e(Z)===r&&(s(Z,null),s(be,""),s(le,"info"),s(ce,"")),e(i)&&me(i,e(i).hotspots=[...e(w)]),e(je)&&A&&setTimeout(()=>rt(!0),100)},Ha=r=>{s(Z,r.id),s(be,r.label),s(le,r.type||"info"),s(ce,r.targetScene||"")},Pa=()=>{if(e(Z)){const r=e(w).find(l=>l.id===e(Z));r&&!r.label&&ja(e(Z))}s(Z,null),s(be,""),s(le,"info"),s(ce,""),s(G,!1)},Mt=()=>{e(i)&&me(i,e(i).hotspots=[...e(w)]);const r={},l=[];e(n).forEach((k,S)=>{var P;const M=k.name.toLowerCase().replace(/\s+/g,""),ve=((P=k.file)==null?void 0:P.name)||`${S+1}.png`;r[M]=`assets/panorama/${ve}`,k.hotspots.forEach(D=>{l.push({x:D.x,y:D.y,scene:M,label:D.label,type:D.type||"info",targetScene:D.targetSceneKey||"",icon:D.icon||(D.type==="nav"?"door":"info")})})});const d=Date.now(),c=e(Tt)||e(qe).toLowerCase().replace(/\s+/g,"-"),g=e(Ie)?e(Ie).split(",").map(k=>k.trim()).filter(k=>k):["360° Virtual Tour","Interactive Hotspots","Multi-Scene Navigation"],x={};e(De)&&(x["luas tanah"]=e(De)),e(Fe)&&(x["luas bangunan"]=e(Fe)),e(ze)&&(x.lantai=e(ze)),e(Oe)&&(x.durasi=e(Oe)),x["total scenes"]=e(n).length.toString(),x["total hotspots"]=l.length.toString(),x["navigation points"]=l.filter(k=>k.type==="nav").length.toString(),x["info points"]=l.filter(k=>k.type!=="nav").length.toString();const v={};e(ht)&&(v["TIPE PROYEK"]=e(ht)),e(_t)&&(v.ARCHITECT=e(_t)),(e(yt)||e(Ge))&&(v.LOKASI=e(yt)||e(Ge)),e(wt)&&(v["INTERIOR DESIGNER"]=e(wt));const h={};return e(Qe)&&(h.thumbnail=e(Qe)),e(et)&&(h.mobile=e(et)),e(tt)&&(h.tablet=e(tt)),e(at)&&(h.desktop=e(at)),!e(Qe)&&!e(et)&&!e(tt)&&!e(at)&&(h.thumbnail="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",h.mobile="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=300&fit=crop",h.tablet="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600&h=450&fit=crop",h.desktop="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop"),{id:d,title:e(qe).toUpperCase().replace(/\s/g,`
`),slug:c,category:e(ft),location:e(Ge),year:e(xt),description:e(Pt),images:h,panoramic:r,hotspots:l,features:g,status:e(Ze),client:e(bt),stats:x,projectDetails:v}},Lr=async()=>{try{const r=JSON.stringify(Mt(),null,2);await navigator.clipboard.writeText(r),s(Ht,!0),setTimeout(()=>s(Ht,!1),2e3)}catch(r){console.error("Failed to copy to clipboard:",r)}},rt=async(r=!1)=>{if(!e(i)||!e(H)){console.log("Missing requirements for viewer:",{currentScene:!!e(i),pannellumViewer:!!e(H)});return}try{console.log("Loading Pannellum..."),await Cr();let l=0,d=0,c=90;if(r&&A)try{l=A.getPitch(),d=A.getYaw(),c=A.getHfov()}catch{console.log("Could not preserve view position"),c=90}A&&(console.log("Destroying existing viewer"),A.destroy(),A=null),e(i)&&me(i,e(i).hotspots=[...e(w)]);const g={};e(n).forEach(h=>{const k=h.name.toLowerCase().replace(/\s+/g,""),S=(h.hotspots||[]).map(M=>{const ve=M.x/100*360-180,P=90-M.y/100*180;return{id:`hotspot_${M.id}`,pitch:P,yaw:ve,cssClass:"custom-hotspot",createTooltipFunc:kr,createTooltipArgs:{label:M.label||"Unnamed Hotspot",type:M.type||"info",targetSceneKey:M.targetSceneKey||""}}});g[k]={type:"equirectangular",panorama:h.imageUrl,hotSpots:S,title:h.name,author:"2WATUJU Architecture",hfov:r?c:90,pitch:r?l:0,yaw:r?d:0,hotSpotDebug:!0,autoLoad:!0},console.log(`Added scene: ${k} with ${S.length} hotspots for scene ${h.name}`)});const x=e(i).name.toLowerCase().replace(/\s+/g,"");console.log("Initializing viewer with scene:",x),me(H,e(H).innerHTML=""),me(H,e(H)._hotspotSetupComplete=!1);const v={default:{firstScene:x,author:"2WATUJU Architecture",sceneFadeDuration:1e3,autoLoad:!0,showZoomCtrl:!0,showFullscreenCtrl:!0,showControls:!0,mouseZoom:!0,doubleClickZoom:!0,draggable:!0,keyboardZoom:!0,friction:.15,hfov:r?c:90,maxHfov:120,minHfov:50,pitch:r?l:0,yaw:r?d:0,hotSpotDebug:!0,backgroundColor:[0,0,0]},scenes:g};console.log("Pannellum config:",v),A=window.pannellum.viewer(e(H),v),A.on("load",()=>{console.log("Pannellum viewer loaded successfully"),setTimeout(()=>{Et()},500)}),A.on("scenechange",()=>{setTimeout(()=>{Et()},500)}),A.on("error",h=>{console.error("Pannellum viewer error:",h)})}catch(l){console.error("Failed to initialize Pannellum viewer:",l)}},Et=()=>{if(!A||!e(H)){console.log("Viewer or container not ready");return}if(e(H)._hotspotSetupComplete){console.log("Hotspot adding already setup");return}let r=e(H).querySelector(".pnlm-container")||e(H).querySelector(".pnlm-render-container")||e(H).querySelector("canvas")||e(H).querySelector("div")||e(H);if(!r){console.log("Viewer container not found, retrying..."),setTimeout(()=>Et(),1e3);return}console.log("Found viewer container:",r.className||r.tagName),e(H)._hotspotClickHandler&&e(H).removeEventListener("click",e(H)._hotspotClickHandler,!0);const l=d=>{if(e(G)){if(d.target.closest(".pnlm-hotspot")){console.log("Clicked on existing hotspot, ignoring");return}console.log("Click detected for hotspot adding"),setTimeout(()=>{if(A)try{const c=A.getPitch(),g=A.getYaw();console.log("Current view - Pitch:",c,"Yaw:",g);const x=(g+180)/360*100,v=(90-c)/180*100,h=Math.max(0,Math.min(100,Math.round(x*100)/100)),k=Math.max(0,Math.min(100,Math.round(v*100)/100)),S={id:Date.now(),x:h,y:k,label:"",scene:"",type:"info",targetScene:"",targetSceneKey:"",icon:"info"};s(w,[...e(w),S]),s(Z,S.id),s(be,""),s(le,"info"),s(ce,""),s(G,!1),console.log("Added hotspot - Pitch:",c,"Yaw:",g,"X:",h,"Y:",k),e(i)&&me(i,e(i).hotspots=[...e(w)]),setTimeout(()=>{rt(!0)},100)}catch(c){console.error("Error adding hotspot:",c)}},50)}};me(H,e(H)._hotspotClickHandler=l),e(H).addEventListener("click",l,!0),me(H,e(H).style.cursor=e(G)?"crosshair":""),me(H,e(H)._hotspotSetupComplete=!0),console.log("Viewer hotspot adding setup complete, isAddingHotspot:",e(G))},Mr=async()=>{if(s(je,!e(je)),e(je)){s(gt,!0);try{await new Promise(r=>setTimeout(r,100)),await rt()}catch(r){console.error("Error initializing viewer:",r)}finally{s(gt,!1)}}else A&&(A.destroy(),A=null,s(gt,!1))},Er=()=>{s(n,[]),s(w,[]),s(u,0),s(je,!1),A&&(A.destroy(),A=null)},Ar=()=>{const r=JSON.stringify(Mt(),null,2),l=new Blob([r],{type:"application/json"}),d=URL.createObjectURL(l),c=document.createElement("a");c.href=d,c.download=`${e(qe).toLowerCase().replace(/\s+/g,"_")}_project.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(d)};po(()=>{A&&A.destroy()}),ut(()=>(e(n),e(u)),()=>{s(i,e(n)[e(u)])}),ut(()=>e(i),()=>{var r;s(E,((r=e(i))==null?void 0:r.imageUrl)||null)}),ut(()=>(e(Z),e(w)),()=>{s(j,e(Z)?e(w).find(r=>r.id===e(Z)):null)}),ut(()=>(e(n),e(u)),()=>{s(F,e(n).filter((r,l)=>l!==e(u)))}),ut(()=>(e(je),e(H),e(G)),()=>{e(je)&&e(H)&&me(H,e(H).style.cursor=e(G)?"crosshair":"")}),mo(),oo();var At=vs();go(r=>{var l=jo();bo.title="Enhanced Panoramic Hotspot Editor | 2WATUJU",m(r,l)});var Ta=a(At),Na=o(a(Ta),2);{var Ur=r=>{var l=Ho(),d=a(l),c=a(d);wo(c,{class:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"});var g=o(c,2),x=o(a(g),2),v=a(x);t(x),t(g),t(d),t(l),I(h=>$(v,`File size: ${h??""}MB. Large images may cause slow loading. 
              The image has been automatically compressed for better performance.`),[()=>(e(Lt),b(()=>e(Lt).toFixed(1)))],_e),m(r,l)};N(Na,r=>{e(Nt)&&r(Ur)})}var La=o(Na,2),Ut=a(La),It=a(Ut),Dt=o(a(It),2),Ft=a(Dt),Ma=o(a(Ft),2);q(Ma),t(Ft);var zt=o(Ft,2),Ea=o(a(zt),2);q(Ea),t(zt);var Ot=o(zt,2),Aa=o(a(Ot),2);q(Aa),t(Ot);var Rt=o(Ot,2),Ua=o(a(Rt),2);q(Ua),t(Rt);var Kt=o(Rt,2),Ia=o(a(Kt),2);q(Ia),t(Kt);var Bt=o(Kt,2),Da=o(a(Bt),2);q(Da),t(Bt);var Fa=o(Bt,2),Jt=o(a(Fa),2);I(()=>{e(Ze),xa(()=>{})});var Vt=a(Jt);Vt.value=Vt.__value="completed";var qt=o(Vt);qt.value=qt.__value="in-progress";var Yt=o(qt);Yt.value=Yt.__value="planning";var za=o(Yt);za.value=za.__value="on-hold",t(Jt),t(Fa),t(Dt);var Wt=o(Dt,2),Oa=o(a(Wt),2);xo(Oa),t(Wt);var Xt=o(Wt,2),Ra=o(a(Xt),2),Gt=a(Ra),Ka=o(a(Gt),2);q(Ka),t(Gt);var Zt=o(Gt,2),Ba=o(a(Zt),2);q(Ba),t(Zt);var Qt=o(Zt,2),Ja=o(a(Qt),2);q(Ja),t(Qt);var Va=o(Qt,2),qa=o(a(Va),2);q(qa),t(Va),t(Ra),Se(2),t(Xt);var ea=o(Xt,2),Ya=o(a(ea),2);q(Ya),Se(2),t(ea);var ta=o(ea,2),Wa=o(a(ta),2),aa=a(Wa),Xa=o(a(aa),2);q(Xa),t(aa);var ra=o(aa,2),Ga=o(a(ra),2);q(Ga),t(ra);var oa=o(ra,2),Za=o(a(oa),2);q(Za),t(oa);var Qa=o(oa,2),er=o(a(Qa),2);q(er),t(Qa),t(Wa),t(ta);var tr=o(ta,2),ar=o(a(tr),2),sa=a(ar),rr=o(a(sa),2);q(rr),t(sa);var na=o(sa,2),or=o(a(na),2);q(or),t(na);var la=o(na,2),sr=o(a(la),2);q(sr),t(la);var nr=o(la,2),lr=o(a(nr),2);q(lr),t(nr),t(ar),t(tr),t(It);var Ir=o(It,2);{var Dr=r=>{var l=Po(),d=a(l),c=a(d),g=a(c);Co(g,{class:"mx-auto h-12 w-12 text-gray-400 mb-4"});var x=o(g,4);Ct(x,h=>s(Ae,h),()=>e(Ae));var v=o(x,2);t(c),t(d),t(l),R("change",x,wa),R("click",v,()=>e(Ae).click()),m(r,l)},Fr=r=>{var l=Vo(),d=ae(l),c=a(d),g=a(c),x=a(g);t(g);var v=o(g,2),h=a(v);yr(h,{class:"w-4 h-4 mr-2"}),Se(),t(v),t(c);var k=o(c,2);pt(k,7,()=>e(n),P=>P.id,(P,D,K)=>{var ge=Mo(),z=a(ge);{var xe=re=>{var ie=To(),T=a(ie);q(T),ho(T,!0);var oe=o(T,2),J=a(oe);wr(J,{class:"w-3 h-3"}),t(oe);var V=o(oe,2),L=a(V);$r(L,{class:"w-3 h-3"}),t(V),t(ie),B(T,()=>e(Ue),U=>s(Ue,U)),R("keydown",T,U=>{U.key==="Enter"&&ka(),U.key==="Escape"&&Sa()}),R("click",oe,ka),R("click",V,Sa),m(re,ie)},ue=re=>{var ie=Lo(),T=ae(ie);let oe;var J=a(T),V=o(J),L=a(V);t(V),t(T);var U=o(T,2),de=a(U);_r(de,{class:"w-3 h-3"}),t(U);var fe=o(U,2);{var Le=ye=>{var we=No(),Re=a(we);ya(Re,{class:"w-3 h-3"}),t(we),R("click",we,()=>Hr(e(K))),m(ye,we)};N(fe,ye=>{e(n),b(()=>e(n).length>1)&&ye(Le)})}I(ye=>{oe=vt(T,1,"flex items-center px-3 py-2 rounded-md text-sm transition-colors",null,oe,ye),$(J,`${e(D),b(()=>e(D).name)??""} `),$(L,`(${e(D),b(()=>{var we;return((we=e(D).hotspots)==null?void 0:we.length)||0})??""})`)},[()=>({"bg-blue-600":e(u)===e(K),"text-white":e(u)===e(K),"bg-gray-200":e(u)!==e(K),"text-gray-700":e(u)!==e(K),"hover:bg-gray-300":e(u)!==e(K)})],_e),R("click",T,()=>$a(e(K))),R("click",U,()=>Pr(e(K))),m(re,ie)};N(z,re=>{e(Ve)===e(K)?re(xe):re(ue,!1)})}t(ge),m(P,ge)}),t(k);var S=o(k,2);Ct(S,P=>s(Ae,P),()=>e(Ae)),t(d);var M=o(d,2);{var ve=P=>{var D=Jo(),K=a(D),ge=a(K),z=a(ge),xe=a(z),ue=o(a(xe)),re=a(ue,!0);t(ue),t(xe),t(z);var ie=o(z,2),T=a(ie);let oe;var J=a(T);yr(J,{class:"w-4 h-4 mr-2"});var V=o(J);t(T);var L=o(T,2),U=a(L);{var de=C=>{var O=Eo(),pe=ae(O);br(pe,{class:"w-4 h-4 mr-2"}),Se(),m(C,O)},fe=C=>{var O=Ao(),pe=ae(O);So(pe,{class:"w-4 h-4 mr-2"}),Se(),m(C,O)};N(U,C=>{e(mt)?C(de):C(fe,!1)})}t(L);var Le=o(L,2),ye=a(Le);br(ye,{class:"w-4 h-4 mr-2"});var we=o(ye);t(Le);var Re=o(Le,2),$t=a(Re);ya($t,{class:"w-4 h-4 mr-2"}),Se(),t(Re),t(ie),t(ge),t(K);var nt=o(K,2),va=a(nt);{var ua=C=>{var O=Do(),pe=a(O);{var We=W=>{var Me=Uo();m(W,Me)};N(pe,W=>{e(gt)&&W(We)})}var Ee=o(pe,2);{var dt=W=>{var Me=Io();m(W,Me)};N(Ee,W=>{e(G)&&W(dt)})}var $e=o(Ee,2);let Je;Ct($e,W=>s(H,W),()=>e(H)),t(O),I(W=>Je=vt($e,1,"w-full h-full",null,Je,W),[()=>({"cursor-crosshair":e(G)})],_e),m(C,O)},se=C=>{var O=Ro();let pe;var We=a(O),Ee=o(We,2);{var dt=$e=>{var Je=Ce(),W=ae(Je);pt(W,1,()=>e(w),Me=>Me.id,(Me,X)=>{var kt=Oo(),pr=a(kt),ct=a(pr);let mr;var Wr=a(ct);{var Xr=ke=>{xr(ke,{class:"w-4 h-4"})},Gr=ke=>{hr(ke,{class:"w-4 h-4"})};N(Wr,ke=>{e(X),b(()=>e(X).type==="nav")?ke(Xr):ke(Gr,!1)})}t(ct);var Zr=o(ct,2);{var Qr=ke=>{var ma=zo(),gr=a(ma),eo=o(gr);{var to=ga=>{var fa=Fo(),ao=a(fa);t(fa),I(St=>$(ao,`→ ${St??""}`),[()=>(e(n),e(X),b(()=>{var St;return((St=e(n).find(ro=>ro.id.toString()===e(X).targetScene))==null?void 0:St.name)||"Unknown"}))],_e),m(ga,fa)};N(eo,ga=>{e(X),b(()=>e(X).type==="nav")&&ga(to)})}t(ma),I(()=>$(gr,`${e(X),b(()=>e(X).label)??""} `)),m(ke,ma)};N(Zr,ke=>{e(X),b(()=>e(X).label)&&ke(Qr)})}t(pr),t(kt),I(ke=>{no(kt,`left: ${e(X),b(()=>e(X).x)??""}%; top: ${e(X),b(()=>e(X).y)??""}%;`),mr=vt(ct,1,"w-8 h-8 text-white rounded-full flex items-center justify-center border-2 border-white shadow-lg hover:scale-110 transition-transform",null,mr,ke)},[()=>({"bg-gradient-to-br":!0,"from-blue-500":e(X).type!=="nav","to-blue-600":e(X).type!=="nav","from-green-500":e(X).type==="nav","to-green-600":e(X).type==="nav"})],_e),R("click",ct,yo(()=>Ha(e(X)))),m(Me,kt)}),m($e,Je)};N(Ee,$e=>{e(mt)&&$e(dt)})}t(O),Ct(O,$e=>s(jt,$e),()=>e(jt)),I($e=>{pe=vt(O,1,"relative cursor-crosshair",null,pe,$e),so(We,"src",e(E))},[()=>({"cursor-crosshair":e(G),"cursor-default":!e(G)})],_e),R("click",O,Nr),m(C,O)};N(va,C=>{e(je)?C(ua):C(se,!1)})}t(nt);var Q=o(nt,2),Y=a(Q),ee=a(Y),Ye=a(ee);{var Ke=C=>{var O=Bo(),pe=ae(O),We=a(pe,!0);t(pe);var Ee=o(pe,2),dt=a(Ee);t(Ee);var $e=o(Ee,2);{var Je=W=>{var Me=Ko();m(W,Me)};N($e,W=>{e(i),b(()=>e(i).file.size>5242880)&&W(Je)})}I(W=>{$(We,(e(i),b(()=>e(i).file.name))),$(dt,`(${W??""} KB)`)},[()=>(e(i),b(()=>Math.round(e(i).file.size/1024)))],_e),m(C,O)};N(Ye,C=>{e(i),b(()=>{var O;return(O=e(i))==null?void 0:O.file})&&C(Ke)})}t(ee);var Be=o(ee,2),lt=o(a(Be)),pa=a(lt,!0);t(lt);var it=o(lt,2),ne=a(it);t(it);var te=o(it,2),he=a(te);t(te),t(Be),t(Y),t(Q),t(D),I((C,O,pe)=>{$(re,(e(i),b(()=>e(i).name))),oe=vt(T,1,"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",null,oe,C),T.disabled=e(Z)!==null,$(V,` ${e(G)?"Click to Add Hotspot":"Add Hotspot"}`),$(we,` ${e(je)?"Exit 360° View":"360° Preview"}`),$(pa,(e(w),b(()=>e(w).length))),$(ne,`Info: ${O??""}`),$(he,`Nav: ${pe??""}`)},[()=>({"bg-green-700":e(G)}),()=>(e(w),b(()=>e(w).filter(C=>C.type!=="nav").length)),()=>(e(w),b(()=>e(w).filter(C=>C.type==="nav").length))],_e),R("click",T,()=>s(G,!e(G))),R("click",L,()=>s(mt,!e(mt))),R("click",Le,Mr),R("click",Re,Er),m(P,D)};N(M,P=>{e(i)&&P(ve)})}I(()=>$(x,`Scenes (${e(n),b(()=>e(n).length)??""})`)),R("click",v,jr),R("change",S,wa),m(r,l)};N(Ir,r=>{e(n),b(()=>e(n).length===0)?r(Dr):r(Fr,!1)})}t(Ut);var ir=o(Ut,2),dr=a(ir);{var zr=r=>{var l=Xo(),d=o(a(l),2),c=a(d),g=o(a(c),2);q(g),t(c);var x=o(c,2),v=o(a(x),2);I(()=>{e(le),xa(()=>{})});var h=a(v);h.value=h.__value="info";var k=o(h);k.value=k.__value="nav",t(v),t(x);var S=o(x,2);{var M=z=>{var xe=Wo(),ue=o(a(xe),2);I(()=>{e(ce),xa(()=>{e(F)})});var re=a(ue);re.value=re.__value="";var ie=o(re);pt(ie,1,()=>e(F),fr,(J,V)=>{var L=qo(),U=a(L,!0);t(L);var de={};I(fe=>{$(U,(e(V),b(()=>e(V).name))),de!==(de=fe)&&(L.value=(L.__value=fe)??"")},[()=>(e(V),b(()=>e(V).id.toString()))],_e),m(J,L)}),t(ue);var T=o(ue,2);{var oe=J=>{var V=Yo();m(J,V)};N(T,J=>{e(F),b(()=>e(F).length===0)&&J(oe)})}t(xe),ba(ue,()=>e(ce),J=>s(ce,J)),m(z,xe)};N(S,z=>{e(le)==="nav"&&z(M)})}var ve=o(S,2),P=a(ve),D=a(P);wr(D,{class:"w-4 h-4 mr-2"}),Se(),t(P);var K=o(P,2),ge=a(K);$r(ge,{class:"w-4 h-4 mr-2"}),Se(),t(K),t(ve),t(d),t(l),I(z=>P.disabled=z,[()=>(e(be),e(le),e(ce),b(()=>!e(be).trim()||e(le)==="nav"&&!e(ce)))],_e),B(g,()=>e(be),z=>s(be,z)),R("keydown",g,z=>{z.key==="Enter"&&Ca(),z.key==="Escape"&&Pa()}),ba(v,()=>e(le),z=>s(le,z)),R("click",P,Ca),R("click",K,Pa),m(r,l)};N(dr,r=>{e(Z)&&r(zr)})}var cr=o(dr,2);{var Or=r=>{var l=ts(),d=a(l),c=a(d);t(d);var g=o(d,2);pt(g,5,()=>e(w),x=>x.id,(x,v)=>{var h=es(),k=a(h),S=a(k),M=a(S),ve=a(M);{var P=L=>{var U=Go(),de=a(U);xr(de,{class:"w-3 h-3 mr-1"}),Se(),t(U),m(L,U)},D=L=>{var U=Zo(),de=a(U);hr(de,{class:"w-3 h-3 mr-1"}),Se(),t(U),m(L,U)};N(ve,L=>{e(v),b(()=>e(v).type==="nav")?L(P):L(D,!1)})}var K=o(ve,2),ge=a(K,!0);t(K),t(M),t(S);var z=o(S,2),xe=a(z),ue=o(xe);{var re=L=>{var U=Qo(),de=o(ae(U));I(fe=>$(de,`Target: ${fe??""}`),[()=>(e(n),e(v),b(()=>{var fe;return((fe=e(n).find(Le=>Le.id.toString()===e(v).targetScene))==null?void 0:fe.name)||"Unknown Scene"}))],_e),m(L,U)};N(ue,L=>{e(v),b(()=>e(v).type==="nav"&&e(v).targetScene)&&L(re)})}t(z),t(k);var ie=o(k,2),T=a(ie),oe=a(T);_r(oe,{class:"w-4 h-4"}),t(T);var J=o(T,2),V=a(J);ya(V,{class:"w-4 h-4"}),t(J),t(ie),t(h),I(()=>{$(ge,(e(v),b(()=>e(v).label||"Unnamed Hotspot"))),$(xe,`Position: ${e(v),b(()=>e(v).x)??""}%, ${e(v),b(()=>e(v).y)??""}% `)}),R("click",T,()=>Ha(e(v))),R("click",J,()=>ja(e(v).id)),m(x,h)}),t(g),t(l),I(()=>$(c,`Hotspots (${e(w),b(()=>e(w).length)??""})`)),m(r,l)};N(cr,r=>{e(w),b(()=>e(w).length>0)&&r(Or)})}var ia=o(cr,2),da=a(ia),ca=o(a(da),2),Rr=a(ca);t(ca),t(da);var vr=o(da,2),ot=a(vr),Kr=a(ot);ko(Kr,{class:"w-4 h-4 mr-2"}),Se(),t(ot);var st=o(ot,2),ur=a(st);$o(ur,{class:"w-4 h-4 mr-2"});var Br=o(ur);t(st);var Jr=o(st,2);{var Vr=r=>{var l=as(),d=a(l),c=a(d);t(d),t(l),I(g=>$(c,`${g??""}
                `),[()=>b(()=>JSON.stringify(Mt(),null,2))],_e),m(r,l)};N(Jr,r=>{e(Xe),e(n),b(()=>e(Xe)&&e(n).length>0)&&r(Vr)})}t(vr),t(ia);var qr=o(ia,2);{var Yr=r=>{var l=cs(),d=o(a(l),2),c=a(d),g=o(a(c),2),x=a(g,!0);t(g),t(c);var v=o(c,2),h=o(a(v),2),k=a(h,!0);t(h),t(v);var S=o(v,2),M=o(a(S),2),ve=a(M,!0);t(M),t(S);var P=o(S,2),D=o(a(P),2),K=a(D,!0);t(D),t(P);var ge=o(P,2),z=o(a(ge),2),xe=a(z,!0);t(z),t(ge);var ue=o(ge,2),re=o(a(ue),2),ie=a(re,!0);t(re),t(ue);var T=o(ue,2),oe=o(a(T),2),J=a(oe,!0);t(oe),t(T);var V=o(T,2),L=o(a(V),2),U=a(L,!0);t(L),t(V);var de=o(V,2),fe=o(a(de),2),Le=a(fe,!0);t(fe),t(de);var ye=o(de,2),we=o(a(ye),2),Re=a(we,!0);t(we),t(ye);var $t=o(ye,2);{var nt=se=>{var Q=ls(),Y=o(a(Q),2);{var ee=ne=>{var te=rs(),he=o(a(te),2),C=a(he,!0);t(he),t(te),I(()=>$(C,e(De))),m(ne,te)};N(Y,ne=>{e(De)&&ne(ee)})}var Ye=o(Y,2);{var Ke=ne=>{var te=os(),he=o(a(te),2),C=a(he,!0);t(he),t(te),I(()=>$(C,e(Fe))),m(ne,te)};N(Ye,ne=>{e(Fe)&&ne(Ke)})}var Be=o(Ye,2);{var lt=ne=>{var te=ss(),he=o(a(te),2),C=a(he,!0);t(he),t(te),I(()=>$(C,e(ze))),m(ne,te)};N(Be,ne=>{e(ze)&&ne(lt)})}var pa=o(Be,2);{var it=ne=>{var te=ns(),he=o(a(te),2),C=a(he,!0);t(he),t(te),I(()=>$(C,e(Oe))),m(ne,te)};N(pa,ne=>{e(Oe)&&ne(it)})}t(Q),m(se,Q)};N($t,se=>{(e(De)||e(Fe)||e(ze)||e(Oe))&&se(nt)})}var va=o($t,2);{var ua=se=>{var Q=ds(),Y=o(a(Q),2);pt(Y,5,()=>(e(Ie),b(()=>e(Ie).split(",").map(ee=>ee.trim()).filter(ee=>ee))),fr,(ee,Ye)=>{var Ke=is(),Be=a(Ke,!0);t(Ke),I(()=>$(Be,e(Ye))),m(ee,Ke)}),t(Y),t(Q),m(se,Q)};N(va,se=>{e(Ie)&&se(ua)})}t(d),t(l),I((se,Q,Y)=>{$(x,e(qe)),$(k,e(ft)),$(ve,e(bt)),$(K,e(Ze)),$(xe,e(xt)),$(ie,(e(n),b(()=>e(n).length))),$(J,se),$(U,Q),$(Le,Y),$(Re,(e(i),b(()=>{var ee;return((ee=e(i))==null?void 0:ee.name)||"None"})))},[()=>(e(n),b(()=>e(n).reduce((se,Q)=>{var Y;return se+(((Y=Q.hotspots)==null?void 0:Y.length)||0)},0))),()=>(e(n),b(()=>e(n).reduce((se,Q)=>{var Y;return se+(((Y=Q.hotspots)==null?void 0:Y.filter(ee=>ee.type!=="nav").length)||0)},0))),()=>(e(n),b(()=>e(n).reduce((se,Q)=>{var Y;return se+(((Y=Q.hotspots)==null?void 0:Y.filter(ee=>ee.type==="nav").length)||0)},0)))],_e),m(r,l)};N(qr,r=>{e(n),b(()=>e(n).length>0)&&r(Yr)})}Se(4),t(ir),t(La),t(Ta),t(At),I(()=>{$(Rr,`${e(Xe)?"Hide":"Show"} JSON`),ot.disabled=(e(n),b(()=>e(n).length===0)),st.disabled=(e(n),b(()=>e(n).length===0)),$(Br,` ${e(Ht)?"Copied!":"Copy to Clipboard"}`)}),B(Ma,()=>e(qe),r=>s(qe,r)),B(Ea,()=>e(Tt),r=>s(Tt,r)),B(Aa,()=>e(ft),r=>s(ft,r)),B(Ua,()=>e(Ge),r=>s(Ge,r)),B(Ia,()=>e(bt),r=>s(bt,r)),B(Da,()=>e(xt),r=>s(xt,r)),ba(Jt,()=>e(Ze),r=>s(Ze,r)),B(Oa,()=>e(Pt),r=>s(Pt,r)),B(Ka,()=>e(Qe),r=>s(Qe,r)),B(Ba,()=>e(at),r=>s(at,r)),B(Ja,()=>e(et),r=>s(et,r)),B(qa,()=>e(tt),r=>s(tt,r)),B(Ya,()=>e(Ie),r=>s(Ie,r)),B(Xa,()=>e(De),r=>s(De,r)),B(Ga,()=>e(Fe),r=>s(Fe,r)),B(Za,()=>e(ze),r=>s(ze,r)),B(er,()=>e(Oe),r=>s(Oe,r)),B(rr,()=>e(ht),r=>s(ht,r)),B(or,()=>e(_t),r=>s(_t,r)),B(sr,()=>e(yt),r=>s(yt,r)),B(lr,()=>e(wt),r=>s(wt,r)),R("click",ca,()=>s(Xe,!e(Xe))),R("click",ot,Ar),R("click",st,Lr),m(p,At),fo()}export{ws as component};
