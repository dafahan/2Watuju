import{i as T}from"../chunks/BeKq9_lX.js";import{s as fa,i as as,e as pa,r as K,a as nt,b as rs,d as ss}from"../chunks/DfkzFbBA.js";import{f as wt,g as ke,i as b,V as os,x as u,ab as ns,X as it,Y as is,j as x,Z as ls,k as A,l as a,s,y as e,a2 as M,_ as ds,$ as cs,z as o,ad as le,m as t,ae as ma,af as vs,n as _e,u as m,a0 as y,F as me,ag as us,I as ps}from"../chunks/DdvI_B30.js";import{I as ba,e as lt,i as mr}from"../chunks/Bom15cto.js";import{D as ms,C as gs,b as F,U as fs,P as gr,S as fr,X as br,a as xr,T as ga}from"../chunks/CwZL3kc9.js";import{b as ht}from"../chunks/DIZsbuz4.js";import{s as bs}from"../chunks/Bd-89TeU.js";import"../chunks/CzlMVSor.js";import{T as xs}from"../chunks/Tq2RnBhJ.js";import{l as xa,s as _a}from"../chunks/Dyy8wEAt.js";import{E as _r}from"../chunks/B5bKRWsd.js";function yr(Te,he){const p=xa(he,["children","$$slots","$$events","$$legacy"]),Ce=[["path",{d:"m18 15-6-6-6 6"}]];ba(Te,_a({name:"chevron-up"},()=>p,{get iconNode(){return Ce},children:($e,je)=>{var i=wt(),w=ke(i);fa(w,he,"default",{}),b($e,i)},$$slots:{default:!0}}))}function _s(Te,he){const p=xa(he,["children","$$slots","$$events","$$legacy"]),Ce=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]];ba(Te,_a({name:"eye-off"},()=>p,{get iconNode(){return Ce},children:($e,je)=>{var i=wt(),w=ke(i);fa(w,he,"default",{}),b($e,i)},$$slots:{default:!0}}))}function hr(Te,he){const p=xa(he,["children","$$slots","$$events","$$legacy"]),Ce=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];ba(Te,_a({name:"info"},()=>p,{get iconNode(){return Ce},children:($e,je)=>{var i=wt(),w=ke(i);fa(w,he,"default",{}),b($e,i)},$$slots:{default:!0}}))}var ys=x(`<style>/* Enhanced custom hotspot styles */
    .custom-hotspot {
      height: 50px;
      width: 50px;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .custom-hotspot:hover {
      transform: scale(1.2);
      box-shadow: 0 8px 25px rgba(0,0,0,0.5);
    }
    
    div.custom-tooltip span {
      visibility: hidden;
      position: absolute;
      border-radius: 3px;
      background-color: #fff;
      color: #000;
      text-align: center;
      max-width: 200px;
      padding: 5px 10px;
      margin-left: -220px;
      cursor: default;
    }
    
    div.custom-tooltip:hover span{
      visibility: visible;
    }
    
    div.custom-tooltip:hover span:after {
      content: '';
      position: absolute;
      width: 0;
      height: 0;
      border-width: 10px;
      border-style: solid;
      border-color: #fff transparent transparent transparent;
      bottom: -20px;
      left: -10px;
      margin: 0 50%;
    }</style>`),hs=x('<div class="mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"><div class="flex items-start"><!> <div><h3 class="text-yellow-800 font-medium">Large File Detected</h3> <p class="text-yellow-700 text-sm mt-1"> </p></div></div></div>'),ws=x('<div class="bg-white rounded-lg shadow-sm border p-6"><div class="text-center"><div class="border-2 border-dashed border-gray-300 rounded-lg p-12 hover:border-gray-400 transition-colors"><!> <div class="space-y-2"><p class="text-lg font-medium text-gray-900">Upload First 360¬∞ Panoramic Image</p> <p class="text-gray-500">Start by uploading your first panoramic scene</p> <p class="text-sm text-gray-400">Supports: JPG, PNG, WebP ‚Ä¢ Auto-compression for large files</p></div> <input type="file" accept="image/*" class="hidden"/> <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Choose File</button></div></div></div>'),ks=x('<div class="flex items-center bg-blue-100 rounded-md p-2"><input type="text" class="text-sm bg-transparent border-none outline-none w-24"/> <button class="ml-1 text-green-600 hover:text-green-700"><!></button> <button class="ml-1 text-red-600 hover:text-red-700"><!></button></div>'),Ss=x('<button class="ml-1 p-1 text-red-400 hover:text-red-600" title="Delete scene"><!></button>'),Cs=x('<button> <span class="ml-2 text-xs opacity-75"> </span></button> <button class="ml-1 p-1 text-gray-400 hover:text-gray-600" title="Edit name"><!></button> <!>',1),js=x('<div class="flex items-center"><!></div>'),Hs=x("<!> Hide Hotspots",1),Ts=x("<!> Show Hotspots",1),$s=x('<div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-75 z-10"><div class="text-center text-white"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"></div> <p>Loading Optimized 360¬∞ Viewer...</p></div></div>'),Ls=x('<div class="absolute top-4 left-4 bg-green-600 text-white px-3 py-2 rounded-md text-sm z-20 flex items-center gap-2"><div class="w-2 h-2 bg-white rounded-full animate-pulse"></div> Click anywhere in the 360¬∞ view to add hotspot</div>'),Ps=x('<div class="relative w-full h-96 bg-black rounded-lg overflow-hidden"><!> <!> <div id="pannellum-viewer"></div></div>'),Es=x('<span class="text-green-300"> </span>'),As=x('<div class="absolute top-full left-1/2 transform -translate-x-1/2 mt-2 px-2 py-1 bg-black bg-opacity-75 text-white text-xs rounded whitespace-nowrap"> <!></div>'),Us=x('<div class="absolute transform -translate-x-1/2 -translate-y-1/2 z-10"><div class="relative"><button><!></button> <!></div></div>'),Ns=x('<div role="button" tabindex="0"><img alt="Panoramic view" class="w-full h-auto max-h-96 object-contain bg-black" draggable="false"/> <!></div>'),Is=x('<span class="ml-2 text-green-600">Compressed ‚úì</span>'),Ms=x('<span class="font-medium"> </span> <span class="ml-2"> </span> <!>',1),Ds=x('<div class="bg-white rounded-lg shadow-sm border overflow-hidden"><div class="border-b bg-gray-50 p-4"><div class="flex items-center justify-between"><div class="flex items-center space-x-3"><div class="text-sm font-medium text-gray-700">Editing: <span class="text-blue-600"> </span></div></div> <div class="flex items-center space-x-3"><button><!> </button> <button class="flex items-center px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!></button> <button class="flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"><!> </button> <button class="flex items-center px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"><!> Clear All</button></div></div></div> <div class="relative"><!></div> <div class="border-t bg-gray-50 px-4 py-2"><div class="flex items-center justify-between text-sm text-gray-600"><div><!></div> <div>Hotspots: <span class="font-medium"> </span> <span class="ml-2 text-blue-600"> </span> <span class="ml-2 text-green-600"> </span></div></div></div></div>'),Fs=x('<div class="bg-white rounded-lg shadow-sm border p-6"><div class="flex items-center justify-between mb-4"><h2 class="text-lg font-semibold text-gray-900"> </h2> <button class="flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> Add Scene</button></div> <div class="flex flex-wrap gap-2 mb-4"></div> <input type="file" accept="image/*" class="hidden"/></div> <!>',1),Os=x("<option> </option>"),Rs=x('<p class="text-sm text-gray-500 mt-1">Add more scenes to enable navigation</p>'),Ks=x('<div><label class="block text-sm font-medium text-gray-700 mb-2">Target Scene</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Select target scene...</option><!></select> <!></div>'),zs=x('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Edit Hotspot</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Hotspot Name</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="e.g., Living Room, Kitchen"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Hotspot Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>‚ÑπÔ∏è Information</option><option>üî∫ Navigation</option></select></div> <!> <div class="flex space-x-2"><button class="flex-1 flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50"><!> Save</button> <button class="flex-1 flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> Cancel</button></div></div></div>'),Bs=x('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-green-100 text-green-800"><!> NAV</span>'),Js=x('<span class="inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800"><!> INFO</span>'),qs=x("<br/> ",1),Ys=x('<div class="flex items-center justify-between p-3 bg-gray-50 rounded-md"><div class="flex-1"><div class="flex items-center gap-2"><div class="text-sm font-medium text-gray-900"><!> <span class="ml-2"> </span></div></div> <div class="text-xs text-gray-500 mt-1"> <!></div></div> <div class="flex items-center space-x-2"><button class="p-1 text-blue-600 hover:text-blue-700" title="Edit hotspot"><!></button> <button class="p-1 text-red-600 hover:text-red-700" title="Delete hotspot"><!></button></div></div>'),Ws=x('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4"> </h3> <div class="space-y-2 max-h-64 overflow-y-auto"></div></div>'),Xs=x('<div class="mt-4"><pre class="bg-gray-900 text-green-400 p-4 rounded-md text-xs overflow-auto max-h-64 font-mono"> </pre></div>'),Vs=x('<div class="flex justify-between text-sm"><span class="text-gray-600">Luas Tanah:</span> <span class="font-medium"> </span></div>'),Gs=x('<div class="flex justify-between text-sm"><span class="text-gray-600">Luas Bangunan:</span> <span class="font-medium"> </span></div>'),Zs=x('<div class="flex justify-between text-sm"><span class="text-gray-600">Lantai:</span> <span class="font-medium"> </span></div>'),Qs=x('<div class="flex justify-between text-sm"><span class="text-gray-600">Durasi:</span> <span class="font-medium"> </span></div>'),eo=x('<div class="border-t pt-3 mt-3"><p class="text-sm font-medium text-gray-700 mb-2">Project Stats:</p> <!> <!> <!> <!></div>'),to=x('<span class="inline-block text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded"> </span>'),ao=x('<div class="border-t pt-3 mt-3"><p class="text-sm font-medium text-gray-700 mb-2">Features:</p> <div class="flex flex-wrap gap-1"></div></div>'),ro=x('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Project Summary</h3> <div class="space-y-3"><div class="flex justify-between text-sm"><span class="text-gray-600">Project:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Category:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Client:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Status:</span> <span class="font-medium capitalize"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Year:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Total Scenes:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Total Hotspots:</span> <span class="font-medium"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Info Hotspots:</span> <span class="font-medium text-blue-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Nav Hotspots:</span> <span class="font-medium text-green-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Current Scene:</span> <span class="font-medium"> </span></div> <!> <!></div></div>'),so=x('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">Enhanced Panoramic Hotspot Editor</h1> <p class="text-gray-600">Create optimized multi-scene 360¬∞ experiences with automatic image compression</p></div> <!> <div class="grid grid-cols-1 xl:grid-cols-3 gap-8"><div class="xl:col-span-2 space-y-6"><div class="bg-white rounded-lg shadow-sm border p-6"><h2 class="text-lg font-semibold text-gray-900 mb-4">Project Settings</h2> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Project Name *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Modern Minimalist House" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Slug (URL)</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="modern-minimalist (auto-generated if empty)"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Japandi Style" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Location *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Bandar Lampung" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Client *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Keluarga Raharjo" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Year</label> <input type="number" min="2020" max="2030" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="2024"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Status</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Completed</option><option>In Progress</option><option>Planning</option><option>On Hold</option></select></div></div> <div class="mb-6"><label class="block text-sm font-medium text-gray-700 mb-2">Description *</label> <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Rumah bergaya minimalis modern dengan konsep open space yang mengutamakan pencahayaan alami..." required></textarea></div> <div class="mb-6"><h3 class="text-md font-medium text-gray-700 mb-3">Project Images (Optional)</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Thumbnail URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Desktop URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Mobile URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Tablet URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://images.unsplash.com/..."/></div></div> <p class="text-xs text-gray-500 mt-2">If empty, default placeholder images will be used</p></div> <div class="mb-6"><label class="block text-sm font-medium text-gray-700 mb-2">Features (Optional)</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="3 Kamar Tidur, 2 Kamar Mandi, Taman Dalam, Carport, Smart Home, Open Kitchen"/> <p class="text-xs text-gray-500 mt-1">Separate features with commas</p></div> <div class="mb-6"><h3 class="text-md font-medium text-gray-700 mb-3">Project Stats (Optional)</h3> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Luas Tanah</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="150m¬≤"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Luas Bangunan</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="120m¬≤"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Lantai</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="2"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Durasi</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="8 bulan"/></div></div></div> <div><h3 class="text-md font-medium text-gray-700 mb-3">Project Details (Optional)</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Tipe Proyek</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Japandi (Japanese Scandinavian) Style"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Architect</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Kurnia Firmanda Ageng, S.Ars"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Lokasi Detail</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Sukarame, Bandar Lampung"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Interior Designer</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Kurnia Firmanda Ageng, S.Ars"/></div></div></div></div> <!></div> <div class="space-y-6"><!> <!> <div class="bg-white rounded-lg shadow-sm border p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-semibold text-gray-900">Export Project</h3> <button class="text-sm text-blue-600 hover:text-blue-700"> </button></div> <div class="space-y-3"><button class="w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> Download Project JSON</button> <button class="w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> </button> <!></div></div> <!> <div class="bg-blue-50 rounded-lg border border-blue-200 p-6"><h3 class="text-lg font-semibold text-blue-900 mb-3">How to Use</h3> <div class="space-y-2 text-sm text-blue-800"><p><strong>1.</strong> Fill in project settings (required fields marked with *)</p> <p><strong>2.</strong> Upload 360¬∞ panoramic images (auto-compression for large files)</p> <p><strong>3.</strong> Click "Add Hotspot" then click on the image to place hotspots</p> <p><strong>4.</strong> Choose hotspot type: Info (‚ÑπÔ∏è) or Navigation (üî∫)</p> <p><strong>5.</strong> For navigation hotspots, select target scene</p> <p><strong>6.</strong> Use "360¬∞ Preview" to test navigation and interactions</p> <p><strong>7.</strong> Export your complete project as JSON when ready</p></div></div> <div class="bg-green-50 rounded-lg border border-green-200 p-6"><h3 class="text-lg font-semibold text-green-900 mb-3">Performance & Data Tips</h3> <div class="space-y-2 text-sm text-green-800"><p>‚Ä¢ <strong>Required fields</strong>: Name, Category, Location, Client, Description</p> <p>‚Ä¢ <strong>Optional fields</strong>: All image URLs, features, stats, and project details</p> <p>‚Ä¢ <strong>Images</strong>: Use full URLs for thumbnail, mobile, tablet, desktop versions</p> <p>‚Ä¢ <strong>Features</strong>: Separate multiple features with commas</p> <p>‚Ä¢ <strong>Large files</strong>: Automatically compressed to improve loading</p> <p>‚Ä¢ <strong>Format</strong>: JPEG provides best balance of quality/size</p> <p>‚Ä¢ <strong>Navigation flow</strong>: Test in 360¬∞ mode before export</p></div></div></div></div></div></div>');function bo(Te,he){os(he,!1);const p=u(),Ce=u(),$e=u(),je=u();let i=u([]),w=u(0),_=u([]),q=u(!1),Y=u(null),dt=u(!0),ve=u(""),te=u("info"),se=u(""),kt=u(),Le=u(),C=u(),P=null,ye=u(!1),Je=u(!1),St=u(!1),ct=u(!1),Pe=u(""),Re=u(null),Ke=u("Modern Minimalist House"),Ct=u("Interactive 360¬∞ panoramic experience with multi-scene navigation"),vt=u("Japandi Style"),qe=u("Bandar Lampung"),ut=u("Keluarga Raharjo"),pt=u(new Date().getFullYear()),Ye=u("completed"),jt=u(""),We=u(""),Xe=u(""),Ve=u(""),Ge=u(""),Ee=u(""),Ae=u(""),Ue=u(""),Ne=u(""),Ie=u(""),mt=u(""),gt=u("Kurnia Firmanda Ageng, S.Ars"),ft=u(""),bt=u("Kurnia Firmanda Ageng, S.Ars"),Ht=u(!1),Tt=u(0);function wr(r,n){const{label:l,type:d,targetSceneKey:v}=typeof n=="object"?n:{label:n,type:"info",targetSceneKey:""};r.classList.add("custom-tooltip");const g=document.createElement("div");g.style.cssText=`
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    `,d==="nav"?(g.innerHTML=`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="m18 15-6-6-6 6"/>
        </svg>
      `,r.style.background="linear-gradient(135deg, #10B981, #059669)",r.style.cursor="pointer"):(g.innerHTML=`
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="16" x2="12" y2="12"/>
          <line x1="12" y1="8" x2="12.01" y2="8"/>
        </svg>
      `,r.style.background="linear-gradient(135deg, #56AAB7, #4a9aa6)"),r.appendChild(g);var c=document.createElement("span");c.innerHTML=l,r.appendChild(c),c.style.width=c.scrollWidth-20+"px",c.style.marginLeft=-(c.scrollWidth-r.offsetWidth)/2+"px",c.style.marginTop=-c.scrollHeight-12+"px",d==="nav"&&v&&(r.onclick=f=>{f.stopPropagation();const h=e(i).findIndex(k=>k.name.toLowerCase().replace(/\s+/g,"")===v);h!==-1&&h!==e(w)&&(console.log(`Navigating from scene ${e(w)} to scene ${h}`),ha(h))})}const kr=(r,n=5,l=.8)=>new Promise(d=>{const v=document.createElement("canvas"),g=v.getContext("2d"),c=new Image;c.onload=()=>{let{width:k,height:L}=c;k>4096&&(L=L*4096/k,k=4096),L>2048&&(k=k*2048/L,L=2048),v.width=k,v.height=L,g.drawImage(c,0,0,k,L),v.toBlob(oe=>{const j=new FileReader;j.onload=U=>d(U.target.result),j.readAsDataURL(oe)},"image/jpeg",l)},c.src=URL.createObjectURL(r)}),Sr=()=>new Promise((r,n)=>{if(window.pannellum){r();return}const l=document.createElement("link");l.rel="stylesheet",l.href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css",document.head.appendChild(l);const d=document.createElement("script");d.src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js",d.onload=()=>{console.log("Pannellum loaded from CDN"),r()},d.onerror=v=>{console.error("Failed to load Pannellum from CDN:",v),n(v)},document.head.appendChild(d)}),ya=async r=>{const n=r.target.files[0];if(n&&n.type.startsWith("image/")){const l=n.size/1048576;o(Tt,l),l>10&&(o(Ht,!0),setTimeout(()=>o(Ht,!1),5e3));try{e(p)&&e(i)[e(w)]&&le(i,e(i)[e(w)].hotspots=[...e(_)]);let d;if(l>5)console.log(`Compressing large image: ${l.toFixed(1)}MB`),d=await kr(n,5,.8);else{const g=new FileReader;d=await new Promise(c=>{g.onload=f=>c(f.target.result),g.readAsDataURL(n)})}const v={id:Date.now(),name:`Scene ${e(i).length+1}`,imageUrl:d,file:n,hotspots:[]};o(i,[...e(i),v]),o(w,e(i).length-1),o(_,[]),console.log(`Created new scene ${e(w)} with compressed image`)}catch(d){console.error("Error processing image:",d),alert("Error processing image. Please try a different file.")}}},Cr=()=>{e(Le)&&e(Le).click()},jr=r=>{if(e(i).length<=1)return;e(p)&&e(i)[e(w)]&&le(i,e(i)[e(w)].hotspots=[...e(_)]),o(i,e(i).filter((l,d)=>d!==r)),e(w)>=e(i).length?o(w,e(i).length-1):e(w)>r&&ps(w,-1);const n=e(i)[e(w)];o(_,n&&n.hotspots?[...n.hotspots]:[]),console.log(`After scene deletion, loaded ${e(_).length} hotspots for scene ${e(w)}`)},ha=r=>{e(p)&&e(i)[e(w)]&&(le(i,e(i)[e(w)].hotspots=[...e(_)]),console.log(`Saved ${e(_).length} hotspots to scene ${e(w)}`)),o(w,r);const n=e(i)[e(w)];o(_,n&&n.hotspots?[...n.hotspots]:[]),console.log(`Loaded ${e(_).length} hotspots for scene ${r}`),o(q,!1),o(Y,null),o(ve,""),o(te,"info"),o(se,""),e(ye)&&P&&setTimeout(()=>Ze(),100)},Hr=r=>{o(Re,r),o(Pe,e(i)[r].name)},wa=()=>{e(Re)!==null&&e(Pe).trim()&&(le(i,e(i)[e(Re)].name=e(Pe).trim()),o(i,[...e(i)]),o(Re,null),o(Pe,""))},ka=()=>{o(Re,null),o(Pe,"")},Tr=(r,n)=>{const l=n.getBoundingClientRect(),d=(r.clientX-l.left)/l.width*100,v=(r.clientY-l.top)/l.height*100;return{x:Math.round(d*10)/10,y:Math.round(v*10)/10}},$r=r=>{if(!e(q))return;r.preventDefault();const n=Tr(r,e(kt)),l={id:Date.now(),x:n.x,y:n.y,label:"",scene:"",type:"info",targetScene:"",targetSceneKey:"",icon:"info"};o(_,[...e(_),l]),o(Y,l.id),o(ve,""),o(te,"info"),o(se,""),o(q,!1)},Sa=()=>{if(e(Y)&&e(ve).trim()){let r="";if(e(te)==="nav"&&e(se)){const l=e(i).find(d=>d.id.toString()===e(se));l&&(r=l.name.toLowerCase().replace(/\s+/g,""))}const n=e(_).map(l=>l.id===e(Y)?{...l,label:e(ve).trim(),scene:e(p).name.toLowerCase().replace(/\s+/g,""),type:e(te),targetScene:e(se),targetSceneKey:r,icon:e(te)==="nav"?"door":"info"}:l);o(_,n),e(p)&&le(p,e(p).hotspots=[...e(_)]),e(ye)&&P&&setTimeout(()=>Ze(!0),100),o(Y,null),o(ve,""),o(te,"info"),o(se,"")}},Ca=r=>{o(_,e(_).filter(n=>n.id!==r)),e(Y)===r&&(o(Y,null),o(ve,""),o(te,"info"),o(se,"")),e(p)&&le(p,e(p).hotspots=[...e(_)]),e(ye)&&P&&setTimeout(()=>Ze(!0),100)},ja=r=>{o(Y,r.id),o(ve,r.label),o(te,r.type||"info"),o(se,r.targetScene||"")},Ha=()=>{if(e(Y)){const r=e(_).find(n=>n.id===e(Y));r&&!r.label&&Ca(e(Y))}o(Y,null),o(ve,""),o(te,"info"),o(se,""),o(q,!1)},$t=()=>{e(p)&&le(p,e(p).hotspots=[...e(_)]);const r={},n=[];e(i).forEach((h,k)=>{var j;const L=h.name.toLowerCase().replace(/\s+/g,""),oe=((j=h.file)==null?void 0:j.name)||`${k+1}.png`;r[L]=`assets/panorama/${oe}`,h.hotspots.forEach(U=>{n.push({x:U.x,y:U.y,scene:L,label:U.label,type:U.type||"info",targetScene:U.targetSceneKey||"",icon:U.icon||(U.type==="nav"?"door":"info")})})});const l=Date.now(),d=e(jt)||e(Ke).toLowerCase().replace(/\s+/g,"-"),v=e(Ee)?e(Ee).split(",").map(h=>h.trim()).filter(h=>h):["360¬∞ Virtual Tour","Interactive Hotspots","Multi-Scene Navigation"],g={};e(Ae)&&(g["luas tanah"]=e(Ae)),e(Ue)&&(g["luas bangunan"]=e(Ue)),e(Ne)&&(g.lantai=e(Ne)),e(Ie)&&(g.durasi=e(Ie)),g["total scenes"]=e(i).length.toString(),g["total hotspots"]=n.length.toString(),g["navigation points"]=n.filter(h=>h.type==="nav").length.toString(),g["info points"]=n.filter(h=>h.type!=="nav").length.toString();const c={};e(mt)&&(c["TIPE PROYEK"]=e(mt)),e(gt)&&(c.ARCHITECT=e(gt)),(e(ft)||e(qe))&&(c.LOKASI=e(ft)||e(qe)),e(bt)&&(c["INTERIOR DESIGNER"]=e(bt));const f={};return e(We)&&(f.thumbnail=e(We)),e(Xe)&&(f.mobile=e(Xe)),e(Ve)&&(f.tablet=e(Ve)),e(Ge)&&(f.desktop=e(Ge)),!e(We)&&!e(Xe)&&!e(Ve)&&!e(Ge)&&(f.thumbnail="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",f.mobile="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=300&fit=crop",f.tablet="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600&h=450&fit=crop",f.desktop="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop"),{id:l,title:e(Ke).toUpperCase().replace(/\s/g,`
`),slug:d,category:e(vt),location:e(qe),year:e(pt),description:e(Ct),images:f,panoramic:r,hotspots:n,features:v,status:e(Ye),client:e(ut),stats:g,projectDetails:c}},Lr=async()=>{try{const r=JSON.stringify($t(),null,2);await navigator.clipboard.writeText(r),o(St,!0),setTimeout(()=>o(St,!1),2e3)}catch(r){console.error("Failed to copy to clipboard:",r)}},Ze=async(r=!1)=>{if(!e(p)||!e(C)){console.log("Missing requirements for viewer:",{currentScene:!!e(p),pannellumViewer:!!e(C)});return}try{console.log("Loading Pannellum..."),await Sr();let n=0,l=0,d=90;if(r&&P)try{n=P.getPitch(),l=P.getYaw(),d=P.getHfov()}catch{console.log("Could not preserve view position"),d=90}P&&(console.log("Destroying existing viewer"),P.destroy(),P=null),e(p)&&le(p,e(p).hotspots=[...e(_)]);const v={};e(i).forEach(f=>{const h=f.name.toLowerCase().replace(/\s+/g,""),k=(f.hotspots||[]).map(L=>{const oe=L.x/100*360-180,j=90-L.y/100*180;return{id:`hotspot_${L.id}`,pitch:j,yaw:oe,cssClass:"custom-hotspot",createTooltipFunc:wr,createTooltipArgs:{label:L.label||"Unnamed Hotspot",type:L.type||"info",targetSceneKey:L.targetSceneKey||""}}});v[h]={type:"equirectangular",panorama:f.imageUrl,hotSpots:k,title:f.name,author:"2WATUJU Architecture",hfov:r?d:90,pitch:r?n:0,yaw:r?l:0,hotSpotDebug:!0,autoLoad:!0},console.log(`Added scene: ${h} with ${k.length} hotspots for scene ${f.name}`)});const g=e(p).name.toLowerCase().replace(/\s+/g,"");console.log("Initializing viewer with scene:",g),le(C,e(C).innerHTML=""),le(C,e(C)._hotspotSetupComplete=!1);const c={default:{firstScene:g,author:"2WATUJU Architecture",sceneFadeDuration:1e3,autoLoad:!0,showZoomCtrl:!0,showFullscreenCtrl:!0,showControls:!0,mouseZoom:!0,doubleClickZoom:!0,draggable:!0,keyboardZoom:!0,friction:.15,hfov:r?d:90,maxHfov:120,minHfov:50,pitch:r?n:0,yaw:r?l:0,hotSpotDebug:!0,backgroundColor:[0,0,0]},scenes:v};console.log("Pannellum config:",c),P=window.pannellum.viewer(e(C),c),P.on("load",()=>{console.log("Pannellum viewer loaded successfully"),setTimeout(()=>{Lt()},500)}),P.on("scenechange",()=>{setTimeout(()=>{Lt()},500)}),P.on("error",f=>{console.error("Pannellum viewer error:",f)})}catch(n){console.error("Failed to initialize Pannellum viewer:",n)}},Lt=()=>{if(!P||!e(C)){console.log("Viewer or container not ready");return}if(e(C)._hotspotSetupComplete){console.log("Hotspot adding already setup");return}let r=e(C).querySelector(".pnlm-container")||e(C).querySelector(".pnlm-render-container")||e(C).querySelector("canvas")||e(C).querySelector("div")||e(C);if(!r){console.log("Viewer container not found, retrying..."),setTimeout(()=>Lt(),1e3);return}console.log("Found viewer container:",r.className||r.tagName),e(C)._hotspotClickHandler&&e(C).removeEventListener("click",e(C)._hotspotClickHandler,!0);const n=l=>{if(e(q)){if(l.target.closest(".pnlm-hotspot")){console.log("Clicked on existing hotspot, ignoring");return}console.log("Click detected for hotspot adding"),setTimeout(()=>{if(P)try{const d=P.getPitch(),v=P.getYaw();console.log("Current view - Pitch:",d,"Yaw:",v);const g=(v+180)/360*100,c=(90-d)/180*100,f=Math.max(0,Math.min(100,Math.round(g*100)/100)),h=Math.max(0,Math.min(100,Math.round(c*100)/100)),k={id:Date.now(),x:f,y:h,label:"",scene:"",type:"info",targetScene:"",targetSceneKey:"",icon:"info"};o(_,[...e(_),k]),o(Y,k.id),o(ve,""),o(te,"info"),o(se,""),o(q,!1),console.log("Added hotspot - Pitch:",d,"Yaw:",v,"X:",f,"Y:",h),e(p)&&le(p,e(p).hotspots=[...e(_)]),setTimeout(()=>{Ze(!0)},100)}catch(d){console.error("Error adding hotspot:",d)}},50)}};le(C,e(C)._hotspotClickHandler=n),e(C).addEventListener("click",n,!0),le(C,e(C).style.cursor=e(q)?"crosshair":""),le(C,e(C)._hotspotSetupComplete=!0),console.log("Viewer hotspot adding setup complete, isAddingHotspot:",e(q))},Pr=async()=>{if(o(ye,!e(ye)),e(ye)){o(ct,!0);try{await new Promise(r=>setTimeout(r,100)),await Ze()}catch(r){console.error("Error initializing viewer:",r)}finally{o(ct,!1)}}else P&&(P.destroy(),P=null,o(ct,!1))},Er=()=>{o(i,[]),o(_,[]),o(w,0),o(ye,!1),P&&(P.destroy(),P=null)},Ar=()=>{const r=JSON.stringify($t(),null,2),n=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(n),d=document.createElement("a");d.href=l,d.download=`${e(Ke).toLowerCase().replace(/\s+/g,"_")}_project.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(l)};ns(()=>{P&&P.destroy()}),it(()=>(e(i),e(w)),()=>{o(p,e(i)[e(w)])}),it(()=>e(p),()=>{var r;o(Ce,((r=e(p))==null?void 0:r.imageUrl)||null)}),it(()=>(e(Y),e(_)),()=>{o($e,e(Y)?e(_).find(r=>r.id===e(Y)):null)}),it(()=>(e(i),e(w)),()=>{o(je,e(i).filter((r,n)=>n!==e(w)))}),it(()=>(e(ye),e(C),e(q)),()=>{e(ye)&&e(C)&&le(C,e(C).style.cursor=e(q)?"crosshair":"")}),is(),as();var Pt=so();ls(r=>{var n=ys();cs.title="Enhanced Panoramic Hotspot Editor | 2WATUJU",b(r,n)});var Ta=a(Pt),$a=s(a(Ta),2);{var Ur=r=>{var n=hs(),l=a(n),d=a(l);xs(d,{class:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"});var v=s(d,2),g=s(a(v),2),c=a(g);t(g),t(v),t(l),t(n),A(f=>y(c,`File size: ${f??""}MB. Large images may cause slow loading. 
              The image has been automatically compressed for better performance.`),[()=>(e(Tt),m(()=>e(Tt).toFixed(1)))],me),b(r,n)};T($a,r=>{e(Ht)&&r(Ur)})}var La=s($a,2),Et=a(La),At=a(Et),Ut=s(a(At),2),Nt=a(Ut),Pa=s(a(Nt),2);K(Pa),t(Nt);var It=s(Nt,2),Ea=s(a(It),2);K(Ea),t(It);var Mt=s(It,2),Aa=s(a(Mt),2);K(Aa),t(Mt);var Dt=s(Mt,2),Ua=s(a(Dt),2);K(Ua),t(Dt);var Ft=s(Dt,2),Na=s(a(Ft),2);K(Na),t(Ft);var Ot=s(Ft,2),Ia=s(a(Ot),2);K(Ia),t(Ot);var Ma=s(Ot,2),Rt=s(a(Ma),2);A(()=>{e(Ye),ma(()=>{})});var Kt=a(Rt);Kt.value=Kt.__value="completed";var zt=s(Kt);zt.value=zt.__value="in-progress";var Bt=s(zt);Bt.value=Bt.__value="planning";var Da=s(Bt);Da.value=Da.__value="on-hold",t(Rt),t(Ma),t(Ut);var Jt=s(Ut,2),Fa=s(a(Jt),2);vs(Fa),t(Jt);var qt=s(Jt,2),Oa=s(a(qt),2),Yt=a(Oa),Ra=s(a(Yt),2);K(Ra),t(Yt);var Wt=s(Yt,2),Ka=s(a(Wt),2);K(Ka),t(Wt);var Xt=s(Wt,2),za=s(a(Xt),2);K(za),t(Xt);var Ba=s(Xt,2),Ja=s(a(Ba),2);K(Ja),t(Ba),t(Oa),_e(2),t(qt);var Vt=s(qt,2),qa=s(a(Vt),2);K(qa),_e(2),t(Vt);var Gt=s(Vt,2),Ya=s(a(Gt),2),Zt=a(Ya),Wa=s(a(Zt),2);K(Wa),t(Zt);var Qt=s(Zt,2),Xa=s(a(Qt),2);K(Xa),t(Qt);var ea=s(Qt,2),Va=s(a(ea),2);K(Va),t(ea);var Ga=s(ea,2),Za=s(a(Ga),2);K(Za),t(Ga),t(Ya),t(Gt);var Qa=s(Gt,2),er=s(a(Qa),2),ta=a(er),tr=s(a(ta),2);K(tr),t(ta);var aa=s(ta,2),ar=s(a(aa),2);K(ar),t(aa);var ra=s(aa,2),rr=s(a(ra),2);K(rr),t(ra);var sr=s(ra,2),or=s(a(sr),2);K(or),t(sr),t(er),t(Qa),t(At);var Nr=s(At,2);{var Ir=r=>{var n=ws(),l=a(n),d=a(l),v=a(d);fs(v,{class:"mx-auto h-12 w-12 text-gray-400 mb-4"});var g=s(v,4);ht(g,f=>o(Le,f),()=>e(Le));var c=s(g,2);t(d),t(l),t(n),M("change",g,ya),M("click",c,()=>e(Le).click()),b(r,n)},Mr=r=>{var n=Fs(),l=ke(n),d=a(l),v=a(d),g=a(v);t(v);var c=s(v,2),f=a(c);gr(f,{class:"w-4 h-4 mr-2"}),_e(),t(c),t(d);var h=s(d,2);lt(h,7,()=>e(i),j=>j.id,(j,U,D)=>{var de=js(),N=a(de);{var ue=G=>{var ae=ks(),H=a(ae);K(H),us(H,!0);var Z=s(H,2),O=a(Z);fr(O,{class:"w-3 h-3"}),t(Z);var R=s(Z,2),$=a(R);br($,{class:"w-3 h-3"}),t(R),t(ae),F(H,()=>e(Pe),E=>o(Pe,E)),M("keydown",H,E=>{E.key==="Enter"&&wa(),E.key==="Escape"&&ka()}),M("click",Z,wa),M("click",R,ka),b(G,ae)},ne=G=>{var ae=Cs(),H=ke(ae);let Z;var O=a(H),R=s(O),$=a(R);t(R),t(H);var E=s(H,2),re=a(E);xr(re,{class:"w-3 h-3"}),t(E);var ce=s(E,2);{var we=ge=>{var fe=Ss(),Me=a(fe);ga(Me,{class:"w-3 h-3"}),t(fe),M("click",fe,()=>jr(e(D))),b(ge,fe)};T(ce,ge=>{e(i),m(()=>e(i).length>1)&&ge(we)})}A(ge=>{Z=nt(H,1,"flex items-center px-3 py-2 rounded-md text-sm transition-colors",null,Z,ge),y(O,`${e(U),m(()=>e(U).name)??""} `),y($,`(${e(U),m(()=>{var fe;return((fe=e(U).hotspots)==null?void 0:fe.length)||0})??""})`)},[()=>({"bg-blue-600":e(w)===e(D),"text-white":e(w)===e(D),"bg-gray-200":e(w)!==e(D),"text-gray-700":e(w)!==e(D),"hover:bg-gray-300":e(w)!==e(D)})],me),M("click",H,()=>ha(e(D))),M("click",E,()=>Hr(e(D))),b(G,ae)};T(N,G=>{e(Re)===e(D)?G(ue):G(ne,!1)})}t(de),b(j,de)}),t(h);var k=s(h,2);ht(k,j=>o(Le,j),()=>e(Le)),t(l);var L=s(l,2);{var oe=j=>{var U=Ds(),D=a(U),de=a(D),N=a(de),ue=a(N),ne=s(a(ue)),G=a(ne,!0);t(ne),t(ue),t(N);var ae=s(N,2),H=a(ae);let Z;var O=a(H);gr(O,{class:"w-4 h-4 mr-2"});var R=s(O);t(H);var $=s(H,2),E=a($);{var re=S=>{var I=Hs(),ie=ke(I);_r(ie,{class:"w-4 h-4 mr-2"}),_e(),b(S,I)},ce=S=>{var I=Ts(),ie=ke(I);_s(ie,{class:"w-4 h-4 mr-2"}),_e(),b(S,I)};T(E,S=>{e(dt)?S(re):S(ce,!1)})}t($);var we=s($,2),ge=a(we);_r(ge,{class:"w-4 h-4 mr-2"});var fe=s(ge);t(we);var Me=s(we,2),xt=a(Me);ga(xt,{class:"w-4 h-4 mr-2"}),_e(),t(Me),t(ae),t(de),t(D);var tt=s(D,2),ia=a(tt);{var la=S=>{var I=Ps(),ie=a(I);{var Be=B=>{var Se=$s();b(B,Se)};T(ie,B=>{e(ct)&&B(Be)})}var He=s(ie,2);{var st=B=>{var Se=Ls();b(B,Se)};T(He,B=>{e(q)&&B(st)})}var be=s(He,2);let Oe;ht(be,B=>o(C,B),()=>e(C)),t(I),A(B=>Oe=nt(be,1,"w-full h-full",null,Oe,B),[()=>({"cursor-crosshair":e(q)})],me),b(S,I)},Q=S=>{var I=Ns();let ie;var Be=a(I),He=s(Be,2);{var st=be=>{var Oe=wt(),B=ke(Oe);lt(B,1,()=>e(_),Se=>Se.id,(Se,J)=>{var _t=Us(),vr=a(_t),ot=a(vr);let ur;var Yr=a(ot);{var Wr=xe=>{yr(xe,{class:"w-4 h-4"})},Xr=xe=>{hr(xe,{class:"w-4 h-4"})};T(Yr,xe=>{e(J),m(()=>e(J).type==="nav")?xe(Wr):xe(Xr,!1)})}t(ot);var Vr=s(ot,2);{var Gr=xe=>{var ca=As(),pr=a(ca),Zr=s(pr);{var Qr=va=>{var ua=Es(),es=a(ua);t(ua),A(yt=>y(es,`‚Üí ${yt??""}`),[()=>(e(i),e(J),m(()=>{var yt;return((yt=e(i).find(ts=>ts.id.toString()===e(J).targetScene))==null?void 0:yt.name)||"Unknown"}))],me),b(va,ua)};T(Zr,va=>{e(J),m(()=>e(J).type==="nav")&&va(Qr)})}t(ca),A(()=>y(pr,`${e(J),m(()=>e(J).label)??""} `)),b(xe,ca)};T(Vr,xe=>{e(J),m(()=>e(J).label)&&xe(Gr)})}t(vr),t(_t),A(xe=>{ss(_t,`left: ${e(J),m(()=>e(J).x)??""}%; top: ${e(J),m(()=>e(J).y)??""}%;`),ur=nt(ot,1,"w-8 h-8 text-white rounded-full flex items-center justify-center border-2 border-white shadow-lg hover:scale-110 transition-transform",null,ur,xe)},[()=>({"bg-gradient-to-br":!0,"from-blue-500":e(J).type!=="nav","to-blue-600":e(J).type!=="nav","from-green-500":e(J).type==="nav","to-green-600":e(J).type==="nav"})],me),M("click",ot,bs(()=>ja(e(J)))),b(Se,_t)}),b(be,Oe)};T(He,be=>{e(dt)&&be(st)})}t(I),ht(I,be=>o(kt,be),()=>e(kt)),A(be=>{ie=nt(I,1,"relative cursor-crosshair",null,ie,be),rs(Be,"src",e(Ce))},[()=>({"cursor-crosshair":e(q),"cursor-default":!e(q)})],me),M("click",I,$r),b(S,I)};T(ia,S=>{e(ye)?S(la):S(Q,!1)})}t(tt);var W=s(tt,2),z=a(W),X=a(z),ze=a(X);{var De=S=>{var I=Ms(),ie=ke(I),Be=a(ie,!0);t(ie);var He=s(ie,2),st=a(He);t(He);var be=s(He,2);{var Oe=B=>{var Se=Is();b(B,Se)};T(be,B=>{e(p),m(()=>e(p).file.size>5242880)&&B(Oe)})}A(B=>{y(Be,(e(p),m(()=>e(p).file.name))),y(st,`(${B??""} KB)`)},[()=>(e(p),m(()=>Math.round(e(p).file.size/1024)))],me),b(S,I)};T(ze,S=>{e(p),m(()=>{var I;return(I=e(p))==null?void 0:I.file})&&S(De)})}t(X);var Fe=s(X,2),at=s(a(Fe)),da=a(at,!0);t(at);var rt=s(at,2),ee=a(rt);t(rt);var V=s(rt,2),pe=a(V);t(V),t(Fe),t(z),t(W),t(U),A((S,I,ie)=>{y(G,(e(p),m(()=>e(p).name))),Z=nt(H,1,"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",null,Z,S),H.disabled=e(Y)!==null,y(R,` ${e(q)?"Click to Add Hotspot":"Add Hotspot"}`),y(fe,` ${e(ye)?"Exit 360¬∞ View":"360¬∞ Preview"}`),y(da,(e(_),m(()=>e(_).length))),y(ee,`Info: ${I??""}`),y(pe,`Nav: ${ie??""}`)},[()=>({"bg-green-700":e(q)}),()=>(e(_),m(()=>e(_).filter(S=>S.type!=="nav").length)),()=>(e(_),m(()=>e(_).filter(S=>S.type==="nav").length))],me),M("click",H,()=>o(q,!e(q))),M("click",$,()=>o(dt,!e(dt))),M("click",we,Pr),M("click",Me,Er),b(j,U)};T(L,j=>{e(p)&&j(oe)})}A(()=>y(g,`Scenes (${e(i),m(()=>e(i).length)??""})`)),M("click",c,Cr),M("change",k,ya),b(r,n)};T(Nr,r=>{e(i),m(()=>e(i).length===0)?r(Ir):r(Mr,!1)})}t(Et);var nr=s(Et,2),ir=a(nr);{var Dr=r=>{var n=zs(),l=s(a(n),2),d=a(l),v=s(a(d),2);K(v),t(d);var g=s(d,2),c=s(a(g),2);A(()=>{e(te),ma(()=>{})});var f=a(c);f.value=f.__value="info";var h=s(f);h.value=h.__value="nav",t(c),t(g);var k=s(g,2);{var L=N=>{var ue=Ks(),ne=s(a(ue),2);A(()=>{e(se),ma(()=>{e(je)})});var G=a(ne);G.value=G.__value="";var ae=s(G);lt(ae,1,()=>e(je),mr,(O,R)=>{var $=Os(),E=a($,!0);t($);var re={};A(ce=>{y(E,(e(R),m(()=>e(R).name))),re!==(re=ce)&&($.value=($.__value=ce)??"")},[()=>(e(R),m(()=>e(R).id.toString()))],me),b(O,$)}),t(ne);var H=s(ne,2);{var Z=O=>{var R=Rs();b(O,R)};T(H,O=>{e(je),m(()=>e(je).length===0)&&O(Z)})}t(ue),pa(ne,()=>e(se),O=>o(se,O)),b(N,ue)};T(k,N=>{e(te)==="nav"&&N(L)})}var oe=s(k,2),j=a(oe),U=a(j);fr(U,{class:"w-4 h-4 mr-2"}),_e(),t(j);var D=s(j,2),de=a(D);br(de,{class:"w-4 h-4 mr-2"}),_e(),t(D),t(oe),t(l),t(n),A(N=>j.disabled=N,[()=>(e(ve),e(te),e(se),m(()=>!e(ve).trim()||e(te)==="nav"&&!e(se)))],me),F(v,()=>e(ve),N=>o(ve,N)),M("keydown",v,N=>{N.key==="Enter"&&Sa(),N.key==="Escape"&&Ha()}),pa(c,()=>e(te),N=>o(te,N)),M("click",j,Sa),M("click",D,Ha),b(r,n)};T(ir,r=>{e(Y)&&r(Dr)})}var lr=s(ir,2);{var Fr=r=>{var n=Ws(),l=a(n),d=a(l);t(l);var v=s(l,2);lt(v,5,()=>e(_),g=>g.id,(g,c)=>{var f=Ys(),h=a(f),k=a(h),L=a(k),oe=a(L);{var j=$=>{var E=Bs(),re=a(E);yr(re,{class:"w-3 h-3 mr-1"}),_e(),t(E),b($,E)},U=$=>{var E=Js(),re=a(E);hr(re,{class:"w-3 h-3 mr-1"}),_e(),t(E),b($,E)};T(oe,$=>{e(c),m(()=>e(c).type==="nav")?$(j):$(U,!1)})}var D=s(oe,2),de=a(D,!0);t(D),t(L),t(k);var N=s(k,2),ue=a(N),ne=s(ue);{var G=$=>{var E=qs(),re=s(ke(E));A(ce=>y(re,`Target: ${ce??""}`),[()=>(e(i),e(c),m(()=>{var ce;return((ce=e(i).find(we=>we.id.toString()===e(c).targetScene))==null?void 0:ce.name)||"Unknown Scene"}))],me),b($,E)};T(ne,$=>{e(c),m(()=>e(c).type==="nav"&&e(c).targetScene)&&$(G)})}t(N),t(h);var ae=s(h,2),H=a(ae),Z=a(H);xr(Z,{class:"w-4 h-4"}),t(H);var O=s(H,2),R=a(O);ga(R,{class:"w-4 h-4"}),t(O),t(ae),t(f),A(()=>{y(de,(e(c),m(()=>e(c).label||"Unnamed Hotspot"))),y(ue,`Position: ${e(c),m(()=>e(c).x)??""}%, ${e(c),m(()=>e(c).y)??""}% `)}),M("click",H,()=>ja(e(c))),M("click",O,()=>Ca(e(c).id)),b(g,f)}),t(v),t(n),A(()=>y(d,`Hotspots (${e(_),m(()=>e(_).length)??""})`)),b(r,n)};T(lr,r=>{e(_),m(()=>e(_).length>0)&&r(Fr)})}var sa=s(lr,2),oa=a(sa),na=s(a(oa),2),Or=a(na);t(na),t(oa);var dr=s(oa,2),Qe=a(dr),Rr=a(Qe);ms(Rr,{class:"w-4 h-4 mr-2"}),_e(),t(Qe);var et=s(Qe,2),cr=a(et);gs(cr,{class:"w-4 h-4 mr-2"});var Kr=s(cr);t(et);var zr=s(et,2);{var Br=r=>{var n=Xs(),l=a(n),d=a(l);t(l),t(n),A(v=>y(d,`${v??""}
                `),[()=>m(()=>JSON.stringify($t(),null,2))],me),b(r,n)};T(zr,r=>{e(Je),e(i),m(()=>e(Je)&&e(i).length>0)&&r(Br)})}t(dr),t(sa);var Jr=s(sa,2);{var qr=r=>{var n=ro(),l=s(a(n),2),d=a(l),v=s(a(d),2),g=a(v,!0);t(v),t(d);var c=s(d,2),f=s(a(c),2),h=a(f,!0);t(f),t(c);var k=s(c,2),L=s(a(k),2),oe=a(L,!0);t(L),t(k);var j=s(k,2),U=s(a(j),2),D=a(U,!0);t(U),t(j);var de=s(j,2),N=s(a(de),2),ue=a(N,!0);t(N),t(de);var ne=s(de,2),G=s(a(ne),2),ae=a(G,!0);t(G),t(ne);var H=s(ne,2),Z=s(a(H),2),O=a(Z,!0);t(Z),t(H);var R=s(H,2),$=s(a(R),2),E=a($,!0);t($),t(R);var re=s(R,2),ce=s(a(re),2),we=a(ce,!0);t(ce),t(re);var ge=s(re,2),fe=s(a(ge),2),Me=a(fe,!0);t(fe),t(ge);var xt=s(ge,2);{var tt=Q=>{var W=eo(),z=s(a(W),2);{var X=ee=>{var V=Vs(),pe=s(a(V),2),S=a(pe,!0);t(pe),t(V),A(()=>y(S,e(Ae))),b(ee,V)};T(z,ee=>{e(Ae)&&ee(X)})}var ze=s(z,2);{var De=ee=>{var V=Gs(),pe=s(a(V),2),S=a(pe,!0);t(pe),t(V),A(()=>y(S,e(Ue))),b(ee,V)};T(ze,ee=>{e(Ue)&&ee(De)})}var Fe=s(ze,2);{var at=ee=>{var V=Zs(),pe=s(a(V),2),S=a(pe,!0);t(pe),t(V),A(()=>y(S,e(Ne))),b(ee,V)};T(Fe,ee=>{e(Ne)&&ee(at)})}var da=s(Fe,2);{var rt=ee=>{var V=Qs(),pe=s(a(V),2),S=a(pe,!0);t(pe),t(V),A(()=>y(S,e(Ie))),b(ee,V)};T(da,ee=>{e(Ie)&&ee(rt)})}t(W),b(Q,W)};T(xt,Q=>{(e(Ae)||e(Ue)||e(Ne)||e(Ie))&&Q(tt)})}var ia=s(xt,2);{var la=Q=>{var W=ao(),z=s(a(W),2);lt(z,5,()=>(e(Ee),m(()=>e(Ee).split(",").map(X=>X.trim()).filter(X=>X))),mr,(X,ze)=>{var De=to(),Fe=a(De,!0);t(De),A(()=>y(Fe,e(ze))),b(X,De)}),t(z),t(W),b(Q,W)};T(ia,Q=>{e(Ee)&&Q(la)})}t(l),t(n),A((Q,W,z)=>{y(g,e(Ke)),y(h,e(vt)),y(oe,e(ut)),y(D,e(Ye)),y(ue,e(pt)),y(ae,(e(i),m(()=>e(i).length))),y(O,Q),y(E,W),y(we,z),y(Me,(e(p),m(()=>{var X;return((X=e(p))==null?void 0:X.name)||"None"})))},[()=>(e(i),m(()=>e(i).reduce((Q,W)=>{var z;return Q+(((z=W.hotspots)==null?void 0:z.length)||0)},0))),()=>(e(i),m(()=>e(i).reduce((Q,W)=>{var z;return Q+(((z=W.hotspots)==null?void 0:z.filter(X=>X.type!=="nav").length)||0)},0))),()=>(e(i),m(()=>e(i).reduce((Q,W)=>{var z;return Q+(((z=W.hotspots)==null?void 0:z.filter(X=>X.type==="nav").length)||0)},0)))],me),b(r,n)};T(Jr,r=>{e(i),m(()=>e(i).length>0)&&r(qr)})}_e(4),t(nr),t(La),t(Ta),t(Pt),A(()=>{y(Or,`${e(Je)?"Hide":"Show"} JSON`),Qe.disabled=(e(i),m(()=>e(i).length===0)),et.disabled=(e(i),m(()=>e(i).length===0)),y(Kr,` ${e(St)?"Copied!":"Copy to Clipboard"}`)}),F(Pa,()=>e(Ke),r=>o(Ke,r)),F(Ea,()=>e(jt),r=>o(jt,r)),F(Aa,()=>e(vt),r=>o(vt,r)),F(Ua,()=>e(qe),r=>o(qe,r)),F(Na,()=>e(ut),r=>o(ut,r)),F(Ia,()=>e(pt),r=>o(pt,r)),pa(Rt,()=>e(Ye),r=>o(Ye,r)),F(Fa,()=>e(Ct),r=>o(Ct,r)),F(Ra,()=>e(We),r=>o(We,r)),F(Ka,()=>e(Ge),r=>o(Ge,r)),F(za,()=>e(Xe),r=>o(Xe,r)),F(Ja,()=>e(Ve),r=>o(Ve,r)),F(qa,()=>e(Ee),r=>o(Ee,r)),F(Wa,()=>e(Ae),r=>o(Ae,r)),F(Xa,()=>e(Ue),r=>o(Ue,r)),F(Va,()=>e(Ne),r=>o(Ne,r)),F(Za,()=>e(Ie),r=>o(Ie,r)),F(tr,()=>e(mt),r=>o(mt,r)),F(ar,()=>e(gt),r=>o(gt,r)),F(rr,()=>e(ft),r=>o(ft,r)),F(or,()=>e(bt),r=>o(bt,r)),M("click",na,()=>o(Je,!e(Je))),M("click",Qe,Ar),M("click",et,Lr),b(Te,Pt),ds()}export{bo as component};
