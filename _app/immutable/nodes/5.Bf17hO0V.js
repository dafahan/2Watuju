import{i as Q}from"../chunks/BeKq9_lX.js";import{s as gt,i as Qt,b as Ut,a as At,r as Y,e as ut,g as tr}from"../chunks/DfkzFbBA.js";import{f as bt,g as mt,i as v,V as Zt,bg as lr,j as _,l as a,a1 as Kt,u as m,m as r,_ as er,n as ue,s as o,y as e,k as B,F as Yt,a0 as A,a2 as y,x as H,X as Ot,ad as p,Y as nr,z as i,af as Ht,ae as W,aG as rr,aH as ar,W as dr,Z as cr,$ as vr}from"../chunks/DdvI_B30.js";import{I as ft,e as pt,i as zt}from"../chunks/Bom15cto.js";import{a as or,C as Vt,T as Nt,X as sr,S as Wt,b as U,P as Mt,D as ur,U as pr}from"../chunks/CwZL3kc9.js";import{s as Gt}from"../chunks/Bd-89TeU.js";import{l as yt,s as _t,p as Bt}from"../chunks/Dyy8wEAt.js";import{E as Xt}from"../chunks/B5bKRWsd.js";import{p as ir}from"../chunks/bVKKuB2A.js";function gr(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];ft(ee,_t({name:"arrow-down"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}function br(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];ft(ee,_t({name:"arrow-up"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}function mr(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];ft(ee,_t({name:"calendar"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}function fr(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];ft(ee,_t({name:"image"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}function yr(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"}],["circle",{cx:"12",cy:"10",r:"3"}]];ft(ee,_t({name:"map-pin"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}function _r(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];ft(ee,_t({name:"search"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}function xr(ee,$){const P=yt($,["children","$$slots","$$events","$$legacy"]),D=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor"}]];ft(ee,_t({name:"tag"},()=>P,{get iconNode(){return D},children:(J,t)=>{var u=bt(),g=mt(u);gt(g,$,"default",{}),v(J,u)},$$slots:{default:!0}}))}var hr=_('<div class="p-12 text-center"><div class="text-gray-400 mb-4"><!></div> <h3 class="text-lg font-medium text-gray-900 mb-2">No Projects Found</h3> <p class="text-gray-500">No projects match your current filters. Try adjusting your search criteria.</p></div>'),wr=_('<img class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"/>'),jr=_('<div class="w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center"><!></div>'),Sr=_('<div class="flex items-center text-xs text-gray-500"><!> </div>'),kr=_('<div class="text-xs"><span class="text-gray-500">Rooms:</span> <span class="font-medium ml-1"> </span></div>'),$r=_('<div class="text-xs"><span class="text-gray-500">Floor:</span> <span class="font-medium ml-1"> </span></div>'),Cr=_('<div class="group relative bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200"><div class="relative h-48 overflow-hidden rounded-t-lg bg-gray-200"><!> <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100"><div class="flex space-x-2"><button class="p-2 bg-white rounded-full hover:bg-blue-50 transition-colors" title="Edit Project"><!></button> <button class="p-2 bg-white rounded-full hover:bg-green-50 transition-colors" title="Duplicate Project"><!></button> <button class="p-2 bg-white rounded-full hover:bg-red-50 transition-colors" title="Delete Project"><!></button></div></div></div> <div class="p-4"><div class="mb-3"><h3 class="font-semibold text-gray-900 mb-1 line-clamp-1 svelte-1cckn3x"> </h3> <div class="flex items-center text-sm text-gray-500"><!> </div></div> <p class="text-sm text-gray-600 mb-3 line-clamp-2 svelte-1cckn3x"> </p> <div class="space-y-2 mb-4"><div class="flex items-center text-xs text-gray-500"><!> </div> <!></div> <div class="grid grid-cols-2 gap-2 mb-4"><!> <!> <div class="text-xs"><span class="text-gray-500">Sections:</span> <span class="font-medium ml-1"> </span></div> <div class="text-xs"><span class="text-gray-500">Hotspots:</span> <span class="font-medium ml-1"> </span></div></div> <div class="flex space-x-2"><button class="flex-1 flex items-center justify-center px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors"><!> Edit</button> <button class="px-3 py-2 bg-gray-200 text-gray-700 text-sm rounded-md hover:bg-gray-300 transition-colors" title="Duplicate"><!></button> <button class="px-3 py-2 bg-red-100 text-red-600 text-sm rounded-md hover:bg-red-200 transition-colors" title="Delete"><!></button></div></div> <div class="absolute top-2 right-2 px-2 py-1 bg-black bg-opacity-60 text-white text-xs rounded"> </div></div>'),Pr=_('<div class="overflow-hidden"><div class="bg-gray-50 border-b px-6 py-3"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold text-gray-900"> </h2> <div class="text-sm text-gray-500">Click any project to edit • Right-click for more options</div></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6"></div></div>'),Dr=_('<div class="bg-white rounded-lg shadow-sm border"><!></div>');function Ar(ee,$){Zt($,!1);let P=Bt($,"projects",24,()=>[]);const D=lr(),J=j=>{D("edit",j)},t=j=>{D("delete",j)},u=j=>{D("duplicate",j)},g=j=>j.replace(/\n/g," ").trim(),X=j=>({japandi:"Japandi Style",kontemporer:"Contemporary Style",luxury:"Luxury Style",modern:"Modern Style",classic:"Classic Style"})[j]||j.charAt(0).toUpperCase()+j.slice(1),K=j=>j.hotspots?j.hotspots.length:0,z=j=>j.contentSections?j.contentSections.length:0;Qt();var q=Dr(),ke=a(q);{var $e=j=>{var pe=hr(),we=a(pe),Ne=a(we);Xt(Ne,{class:"w-16 h-16 mx-auto"}),r(we),ue(4),r(pe),v(j,pe)},Ue=j=>{var pe=Pr(),we=a(pe),Ne=a(we),xt=a(Ne),It=a(xt);r(xt),ue(2),r(Ne),r(we);var ht=o(we,2);pt(ht,5,P,tt=>tt.id,(tt,c)=>{var rt=Cr(),at=a(rt),wt=a(at);{var ot=E=>{var f=wr();B(T=>{Ut(f,"src",(e(c),m(()=>e(c).images.thumbnail))),Ut(f,"alt",T)},[()=>(e(c),m(()=>g(e(c).title)))],Yt),y("error",f,T=>{T.target.src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=300&fit=crop"}),v(E,f)},st=E=>{var f=jr(),T=a(f);Xt(T,{class:"w-12 h-12 text-gray-500"}),r(f),v(E,f)};Q(wt,E=>{e(c),m(()=>{var f;return(f=e(c).images)==null?void 0:f.thumbnail})?E(ot):E(st,!1)})}var it=o(wt,2),Ie=a(it),Ce=a(Ie),lt=a(Ce);or(lt,{class:"w-4 h-4 text-blue-600"}),r(Ce);var Ee=o(Ce,2),jt=a(Ee);Vt(jt,{class:"w-4 h-4 text-green-600"}),r(Ee);var Je=o(Ee,2),ze=a(Je);Nt(ze,{class:"w-4 h-4 text-red-600"}),r(Je),r(Ie),r(it),r(at);var Pe=o(at,2),Fe=a(Pe),Re=a(Fe),Et=a(Re,!0);r(Re);var qe=o(Re,2),Ge=a(qe);xr(Ge,{class:"w-3 h-3 mr-1"});var St=o(Ge);r(qe),r(Fe);var l=o(Fe,2),b=a(l,!0);r(l);var I=o(l,2),O=a(I),ie=a(O);mr(ie,{class:"w-3 h-3 mr-2"});var nt=o(ie);r(O);var kt=o(O,2);{var Le=E=>{var f=Sr(),T=a(f);yr(T,{class:"w-3 h-3 mr-2"});var te=o(T);r(f),B(()=>A(te,` ${e(c),m(()=>{var Pt;return((Pt=e(c).projectDetails.LOKASI)==null?void 0:Pt.value)||e(c).projectDetails.LOKASI||"Location not specified"})??""}`)),v(E,f)};Q(kt,E=>{e(c),m(()=>{var f,T,te;return((f=e(c).projectDetails)==null?void 0:f.LOKASI)||((te=(T=e(c).projectDetails)==null?void 0:T.LOKASI)==null?void 0:te.value)})&&E(Le)})}r(I);var Te=o(I,2),Ve=a(Te);{var He=E=>{var f=kr(),T=o(a(f),2),te=a(T,!0);r(T),r(f),B(()=>A(te,(e(c),m(()=>e(c).stats.room)))),v(E,f)};Q(Ve,E=>{e(c),m(()=>{var f;return(f=e(c).stats)==null?void 0:f.room})&&E(He)})}var dt=o(Ve,2);{var We=E=>{var f=$r(),T=o(a(f),2),te=a(T,!0);r(T),r(f),B(()=>A(te,(e(c),m(()=>e(c).stats.floor)))),v(E,f)};Q(dt,E=>{e(c),m(()=>{var f;return(f=e(c).stats)==null?void 0:f.floor})&&E(We)})}var Me=o(dt,2),Be=o(a(Me),2),Rt=a(Be,!0);r(Be),r(Me);var Xe=o(Me,2),ct=o(a(Xe),2),Ke=a(ct,!0);r(ct),r(Xe),r(Te);var Qe=o(Te,2),De=a(Qe),$t=a(De);or($t,{class:"w-3 h-3 mr-2"}),ue(),r(De);var je=o(De,2),Lt=a(je);Vt(Lt,{class:"w-3 h-3"}),r(je);var Ze=o(je,2),Ct=a(Ze);Nt(Ct,{class:"w-3 h-3"}),r(Ze),r(Qe),r(Pe);var Ye=o(Pe,2),vt=a(Ye);r(Ye),r(rt),B((E,f,T,te)=>{A(Et,E),A(St,` ${f??""}`),A(b,(e(c),m(()=>e(c).description))),A(nt,` ${e(c),m(()=>e(c).year)??""} ${e(c),m(()=>e(c).month||"")??""}`),A(Rt,T),A(Ke,te),A(vt,`ID: ${e(c),m(()=>e(c).id)??""}`)},[()=>(e(c),m(()=>g(e(c).title))),()=>(e(c),m(()=>X(e(c).categoryId))),()=>(e(c),m(()=>z(e(c)))),()=>(e(c),m(()=>K(e(c))))],Yt),y("click",Ce,Gt(()=>J(e(c)))),y("click",Ee,Gt(()=>u(e(c)))),y("click",Je,Gt(()=>t(e(c).id))),y("click",De,()=>J(e(c))),y("click",je,()=>u(e(c))),y("click",Ze,()=>t(e(c).id)),v(tt,rt)}),r(ht),r(pe),B(()=>A(It,`Projects (${Kt(P()),m(()=>P().length)??""})`)),v(j,pe)};Q(ke,j=>{Kt(P()),m(()=>P().length===0)?j($e):j(Ue,!1)})}r(q),v(ee,q),er()}var Or=_('<div class="space-y-6"><h3 class="text-lg font-medium text-gray-900 border-b pb-2">Basic Information</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Project Title *</label> <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="PROJECT\\nTITLE\\nFORMAT" required></textarea> <p class="text-xs text-gray-500 mt-1">Use line breaks for multi-line titles</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">URL Slug *</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="project-url-slug" required/> <p class="text-xs text-gray-500 mt-1">URL-friendly version of the title</p></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category *</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required><option>Japandi Style</option><option>Contemporary Style</option><option>Luxury Style</option><option>Modern Style</option><option>Classic Style</option></select></div> <div class="grid grid-cols-2 gap-3"><div><label class="block text-sm font-medium text-gray-700 mb-2">Year *</label> <input type="number" min="2020" max="2030" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Month</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>January</option><option>February</option><option>March</option><option>April</option><option>May</option><option>June</option><option>July</option><option>August</option><option>September</option><option>October</option><option>November</option><option>December</option></select></div></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Project Description *</label> <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Detailed description of the project..." required></textarea></div></div>'),Nr=_('<div class="mt-2"><img alt="Thumbnail preview" class="w-20 h-15 object-cover rounded border"/></div>'),Ir=_('<div class="space-y-6"><h3 class="text-lg font-medium text-gray-900 border-b pb-2">Project Images</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Thumbnail Image URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://example.com/image.jpg"/> <!></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Desktop Image URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://example.com/image.jpg"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Mobile Image URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://example.com/image.jpg"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Tablet Image URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="https://example.com/image.jpg"/></div></div></div>'),Er=_('<div class="border border-gray-200 rounded-lg p-4 bg-gray-50"><div class="flex items-center justify-between mb-4"><h4 class="font-medium text-gray-900"></h4> <div class="flex items-center space-x-2"><button class="p-1 text-gray-600 hover:text-gray-800"><!></button> <button class="p-1 text-gray-600 hover:text-gray-800"><!></button> <button class="p-1 text-red-600 hover:text-red-800"><!></button></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-2">Section Title</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Image URL</label> <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div></div> <div class="mt-4"><label class="block text-sm font-medium text-gray-700 mb-2">Image Description</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div class="mt-4"><label class="block text-sm font-medium text-gray-700 mb-2">Content (HTML supported)</label> <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Content for this section. Use &lt;br/> for line breaks..."></textarea></div></div>'),Rr=_('<div class="space-y-6"></div>'),Lr=_('<div class="text-center py-8 text-gray-500"><!> <p>No content sections yet. Add your first section above.</p></div>'),Tr=_('<div class="space-y-6"><div class="flex items-center justify-between border-b pb-2"><h3 class="text-lg font-medium text-gray-900">Content Sections</h3> <button class="flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors"><!> Add Section</button></div> <!></div>'),Mr=_('<div class="border border-gray-200 rounded-lg p-4 bg-gray-50"><div class="flex items-center justify-between mb-3"><h5 class="font-medium text-gray-900"></h5> <button class="p-1 text-red-600 hover:text-red-800"><!></button></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">X Position</label> <input type="number" step="0.1" min="0" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Y Position</label> <input type="number" step="0.1" min="0" max="100" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Scene</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Info</option><option>Navigation</option></select></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Label</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Target Scene</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div></div></div>'),Ur=_('<div class="space-y-4"><h4 class="font-medium text-gray-900"> </h4> <!></div>'),Jr=_('<div class="text-center py-8 text-gray-500"><!> <p>No hotspots yet. Add your first hotspot above.</p></div>'),Fr=_('<div class="space-y-6"><div class="flex items-center justify-between border-b pb-2"><h3 class="text-lg font-medium text-gray-900">Panoramic & Hotspots</h3> <button class="flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors"><!> Add Hotspot</button></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Panoramic Images (JSON)</label> <textarea rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm"></textarea> <p class="text-xs text-gray-500 mt-1">JSON object mapping scene keys to image paths</p></div> <!></div>'),Hr=_('<select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Yes</option><option>No</option></select>'),Br=_('<input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="150m² / 3 / etc"/>'),Kr=_('<div class="border border-gray-200 rounded-lg p-4 bg-gray-50"><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900"> </h4> <button class="p-1 text-red-600 hover:text-red-800" title="Remove stat field"><!></button></div> <div class="grid grid-cols-1 md:grid-cols-5 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Label</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="STAT LABEL"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Icon</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="icon.svg"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Data Key</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="datakey"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Order</label> <input type="number" min="1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Value</label> <!></div></div></div>'),Yr=_('<div class="space-y-4"></div>'),zr=_('<div class="text-center py-8 text-gray-500"><div class="w-12 h-12 mx-auto mb-4 bg-gray-200 rounded-full flex items-center justify-center"><span class="text-gray-500 text-xl">#</span></div> <p>No stat fields yet. Add your first stat field above.</p></div>'),qr=_('<div class="space-y-6"><div class="flex items-center justify-between border-b pb-2"><h3 class="text-lg font-medium text-gray-900">Project Stats</h3> <button class="flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors"><!> Add Stat Field</button></div> <!></div>'),Gr=_('<div class="border border-gray-200 rounded-lg p-4 bg-gray-50"><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900"> </h4> <button class="p-1 text-red-600 hover:text-red-800" title="Remove detail field"><!></button></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Label</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="DETAIL LABEL"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Order</label> <input type="number" min="1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Value</label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Detail value"/></div></div></div>'),Vr=_('<div class="space-y-4"></div>'),Wr=_('<div class="text-center py-8 text-gray-500"><div class="w-12 h-12 mx-auto mb-4 bg-gray-200 rounded-full flex items-center justify-center"><span class="text-gray-500 text-xl">i</span></div> <p>No detail fields yet. Add your first detail field above.</p></div>'),Xr=_('<div class="space-y-6"><div class="flex items-center justify-between border-b pb-2"><h3 class="text-lg font-medium text-gray-900">Project Details</h3> <button class="flex items-center px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors"><!> Add Detail Field</button></div> <!></div>'),Qr=_('<div class="bg-white rounded-lg shadow-sm border"><div class="border-b bg-gray-50 px-6 py-4"><div class="flex items-center justify-between"><div><h2 class="text-xl font-semibold text-gray-900"> </h2> <p class="text-sm text-gray-600 mt-1"> </p></div> <div class="flex items-center space-x-3"><button class="flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> Cancel</button> <button class="flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> </button></div></div></div> <div class="p-6"><div class="mb-6"><nav class="flex flex-wrap gap-2"><button>Basic Information</button> <button>Project Images</button> <button> </button> <button> </button> <button>Project Stats</button> <button>Project Details</button></nav></div> <!> <!> <!> <!> <!> <!></div> <div class="border-t bg-gray-50 px-6 py-4"><div class="flex items-center justify-between"><div class="text-sm text-gray-600"> </div> <div class="flex items-center space-x-3"><button class="flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> Cancel</button> <button class="flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> </button></div></div></div></div>');function Zr(ee,$){Zt($,!1);let P=Bt($,"project",8),D=Bt($,"isCreating",8,!1);Bt($,"categories",24,()=>[]);const J=lr();let t=H(JSON.parse(JSON.stringify(P()))),u=H(!0),g=H(!1),X=H(!1),K=H(!1),z=H(!1),q=H(!1);const ke=()=>{var s,d,n;if(!((s=e(t).title)!=null&&s.trim())){alert("Project title is required");return}if(!((d=e(t).slug)!=null&&d.trim())){alert("Project slug is required");return}if(!((n=e(t).description)!=null&&n.trim())){alert("Project description is required");return}(!e(t).slug||e(t).slug===P().slug)&&p(t,e(t).slug=e(t).title.toLowerCase().replace(/\n/g,"-").replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")),J("save",e(t))},$e=()=>{J("cancel")},Ue=()=>{e(t).contentSections||p(t,e(t).contentSections=[]),p(t,e(t).contentSections=[...e(t).contentSections,{title:"New Section",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",imageDescription:"Description for the new section",content:"Content description for this section."}])},j=s=>{p(t,e(t).contentSections=e(t).contentSections.filter((d,n)=>n!==s))},pe=(s,d)=>{const n=[...e(t).contentSections];d==="up"&&s>0?[n[s],n[s-1]]=[n[s-1],n[s]]:d==="down"&&s<n.length-1&&([n[s],n[s+1]]=[n[s+1],n[s]]),p(t,e(t).contentSections=n)},we=()=>{e(t).hotspots||p(t,e(t).hotspots=[]),p(t,e(t).hotspots=[...e(t).hotspots,{x:50,y:50,scene:"main",label:"New Hotspot",type:"info",targetScene:"",icon:"info"}])},Ne=s=>{p(t,e(t).hotspots=e(t).hotspots.filter((d,n)=>n!==s))},xt=()=>{e(t).statsConfig||p(t,e(t).statsConfig={"LAND AREA":{icon:"land.svg",key:"land",order:1},"FLOOR AREA":{icon:"floor.svg",key:"floor",order:2},ROOM:{icon:"room.svg",key:"room",order:3},BATHROOM:{icon:"bathroom.svg",key:"bathroom",order:4},CARPORT:{icon:"garage.svg",key:"carport",order:5},POOL:{icon:"pool.svg",key:"pool",order:6}}),e(t).stats||p(t,e(t).stats={land:"",floor:"",room:"",bathroom:"",carport:"no",pool:"no"})},It=()=>{const s=`custom_${Date.now()}`,d="NEW STAT",n=Math.max(...Object.values(e(t).statsConfig).map(h=>h.order||0))+1;p(t,e(t).statsConfig[d]={icon:"info.svg",key:s,order:n}),p(t,e(t).stats[s]=""),p(t,e(t).statsConfig={...e(t).statsConfig}),p(t,e(t).stats={...e(t).stats})},ht=s=>{const d=e(t).statsConfig[s];d&&(delete e(t).stats[d.key],delete e(t).statsConfig[s],p(t,e(t).statsConfig={...e(t).statsConfig}),p(t,e(t).stats={...e(t).stats}))},tt=(s,d)=>{s!==d&&e(t).statsConfig[s]&&(p(t,e(t).statsConfig[d]={...e(t).statsConfig[s]}),delete e(t).statsConfig[s],p(t,e(t).statsConfig={...e(t).statsConfig}))},c=()=>{e(t).projectDetails||p(t,e(t).projectDetails={"TIPE PROYEK":{value:"",order:1},"PRINCIPLE DESIGNER":{value:"Kurnia Firmanda Ageng, S.Ars",order:2},LOKASI:{value:"",order:3},"INTERIOR DESIGNER":{value:"Kurnia Firmanda Ageng, S.Ars",order:4}})},rt=()=>{const s="NEW DETAIL",d=Math.max(...Object.values(e(t).projectDetails).map(n=>n.order||0))+1;p(t,e(t).projectDetails[s]={value:"",order:d}),p(t,e(t).projectDetails={...e(t).projectDetails})},at=s=>{delete e(t).projectDetails[s],p(t,e(t).projectDetails={...e(t).projectDetails})},wt=(s,d)=>{s!==d&&e(t).projectDetails[s]&&(p(t,e(t).projectDetails[d]={...e(t).projectDetails[s]}),delete e(t).projectDetails[s],p(t,e(t).projectDetails={...e(t).projectDetails}))};Ot(()=>e(t),()=>{e(t).images||p(t,e(t).images={thumbnail:"",mobile:"",tablet:"",desktop:""}),e(t).contentSections||p(t,e(t).contentSections=[]),xt(),c()}),nr(),Qt();var ot=Qr(),st=a(ot),it=a(st),Ie=a(it),Ce=a(Ie),lt=a(Ce,!0);r(Ce);var Ee=o(Ce,2),jt=a(Ee,!0);r(Ee),r(Ie);var Je=o(Ie,2),ze=a(Je),Pe=a(ze);sr(Pe,{class:"w-4 h-4 mr-2"}),ue(),r(ze);var Fe=o(ze,2),Re=a(Fe);Wt(Re,{class:"w-4 h-4 mr-2"});var Et=o(Re);r(Fe),r(Je),r(it),r(st);var qe=o(st,2),Ge=a(qe),St=a(Ge),l=a(St);let b;var I=o(l,2);let O;var ie=o(I,2);let nt;var kt=a(ie);r(ie);var Le=o(ie,2);let Te;var Ve=a(Le);r(Le);var He=o(Le,2);let dt;var We=o(He,2);let Me;r(St),r(Ge);var Be=o(Ge,2);{var Rt=s=>{var d=Or(),n=o(a(d),2),h=a(n),M=o(a(h),2);Ht(M),ue(2),r(h);var G=o(h,2),V=o(a(G),2);Y(V),ue(2),r(G);var F=o(G,2),k=o(a(F),2);B(()=>{e(t),W(()=>{})});var S=a(k);S.value=S.__value="japandi";var w=o(S);w.value=w.__value="kontemporer";var x=o(w);x.value=x.__value="luxury";var R=o(x);R.value=R.__value="modern";var L=o(R);L.value=L.__value="classic",r(k),r(F);var Z=o(F,2),C=a(Z),N=o(a(C),2);Y(N),r(C);var re=o(C,2),ne=o(a(re),2);B(()=>{e(t),W(()=>{})});var de=a(ne);de.value=de.__value="JAN";var ge=o(de);ge.value=ge.__value="FEB";var _e=o(ge);_e.value=_e.__value="MAR";var xe=o(_e);xe.value=xe.__value="APR";var ae=o(xe);ae.value=ae.__value="MAY";var oe=o(ae);oe.value=oe.__value="JUN";var ce=o(oe);ce.value=ce.__value="JUL";var be=o(ce);be.value=be.__value="AUG";var me=o(be);me.value=me.__value="SEP";var ve=o(me);ve.value=ve.__value="OCT";var se=o(ve);se.value=se.__value="NOV";var Ae=o(se);Ae.value=Ae.__value="DEC",r(ne),r(re),r(Z),r(n);var Se=o(n,2),fe=o(a(Se),2);Ht(fe),r(Se),r(d),U(M,()=>e(t).title,ye=>p(t,e(t).title=ye)),U(V,()=>e(t).slug,ye=>p(t,e(t).slug=ye)),ut(k,()=>e(t).categoryId,ye=>p(t,e(t).categoryId=ye)),U(N,()=>e(t).year,ye=>p(t,e(t).year=ye)),ut(ne,()=>e(t).month,ye=>p(t,e(t).month=ye)),U(fe,()=>e(t).description,ye=>p(t,e(t).description=ye)),v(s,d)};Q(Be,s=>{e(u)&&s(Rt)})}var Xe=o(Be,2);{var ct=s=>{var d=Ir(),n=o(a(d),2),h=a(n),M=o(a(h),2);Y(M);var G=o(M,2);{var V=L=>{var Z=Nr(),C=a(Z);r(Z),B(()=>Ut(C,"src",(e(t),m(()=>e(t).images.thumbnail)))),v(L,Z)};Q(G,L=>{e(t),m(()=>e(t).images.thumbnail)&&L(V)})}r(h);var F=o(h,2),k=o(a(F),2);Y(k),r(F);var S=o(F,2),w=o(a(S),2);Y(w),r(S);var x=o(S,2),R=o(a(x),2);Y(R),r(x),r(n),r(d),U(M,()=>e(t).images.thumbnail,L=>p(t,e(t).images.thumbnail=L)),U(k,()=>e(t).images.desktop,L=>p(t,e(t).images.desktop=L)),U(w,()=>e(t).images.mobile,L=>p(t,e(t).images.mobile=L)),U(R,()=>e(t).images.tablet,L=>p(t,e(t).images.tablet=L)),v(s,d)};Q(Xe,s=>{e(g)&&s(ct)})}var Ke=o(Xe,2);{var Qe=s=>{var d=Tr(),n=a(d),h=o(a(n),2),M=a(h);Mt(M,{class:"w-4 h-4 mr-2"}),ue(),r(h),r(n);var G=o(n,2);{var V=k=>{var S=Rr();pt(S,5,()=>(e(t),m(()=>e(t).contentSections)),zt,(w,x,R)=>{var L=Er(),Z=a(L),C=a(Z);C.textContent=`Section ${R+1}`;var N=o(C,2),re=a(N);re.disabled=R===0;var ne=a(re);br(ne,{class:"w-4 h-4"}),r(re);var de=o(re,2),ge=a(de);gr(ge,{class:"w-4 h-4"}),r(de);var _e=o(de,2),xe=a(_e);Nt(xe,{class:"w-4 h-4"}),r(_e),r(N),r(Z);var ae=o(Z,2),oe=a(ae),ce=o(a(oe),2);Y(ce),r(oe);var be=o(oe,2),me=o(a(be),2);Y(me),r(be),r(ae);var ve=o(ae,2),se=o(a(ve),2);Y(se),r(ve);var Ae=o(ve,2),Se=o(a(Ae),2);Ht(Se),r(Ae),r(L),B(()=>de.disabled=(e(t),m(()=>R===e(t).contentSections.length-1))),y("click",re,()=>pe(R,"up")),y("click",de,()=>pe(R,"down")),y("click",_e,()=>j(R)),U(ce,()=>e(x).title,fe=>(e(x).title=fe,W(()=>e(t)))),U(me,()=>e(x).image,fe=>(e(x).image=fe,W(()=>e(t)))),U(se,()=>e(x).imageDescription,fe=>(e(x).imageDescription=fe,W(()=>e(t)))),U(Se,()=>e(x).content,fe=>(e(x).content=fe,W(()=>e(t)))),v(w,L)}),r(S),v(k,S)},F=k=>{var S=Lr(),w=a(S);fr(w,{class:"w-12 h-12 mx-auto mb-4"}),ue(2),r(S),v(k,S)};Q(G,k=>{e(t),m(()=>e(t).contentSections&&e(t).contentSections.length>0)?k(V):k(F,!1)})}r(d),y("click",h,Ue),v(s,d)};Q(Ke,s=>{e(X)&&s(Qe)})}var De=o(Ke,2);{var $t=s=>{var d=Fr(),n=a(d),h=o(a(n),2),M=a(h);Mt(M,{class:"w-4 h-4 mr-2"}),ue(),r(h),r(n);var G=o(n,2),V=o(a(G),2);Ht(V),Ut(V,"placeholder",'{"outside": "assets/panorama/1.webp", "inside": "assets/panorama/2.webp"}'),ue(2),r(G);var F=o(G,2);{var k=w=>{var x=Ur(),R=a(x),L=a(R);r(R);var Z=o(R,2);pt(Z,1,()=>(e(t),m(()=>e(t).hotspots)),zt,(C,N,re)=>{var ne=Mr(),de=a(ne),ge=a(de);ge.textContent=`Hotspot ${re+1}`;var _e=o(ge,2),xe=a(_e);Nt(xe,{class:"w-4 h-4"}),r(_e),r(de);var ae=o(de,2),oe=a(ae),ce=o(a(oe),2);Y(ce),r(oe);var be=o(oe,2),me=o(a(be),2);Y(me),r(be);var ve=o(be,2),se=o(a(ve),2);Y(se),r(ve);var Ae=o(ve,2),Se=o(a(Ae),2);B(()=>{e(N),W(()=>{})});var fe=a(Se);fe.value=fe.__value="info";var ye=o(fe);ye.value=ye.__value="nav",r(Se),r(Ae),r(ae);var Ft=o(ae,2),le=a(Ft),Oe=o(a(le),2);Y(Oe),r(le);var et=o(le,2),Tt=o(a(et),2);Y(Tt),r(et),r(Ft),r(ne),y("click",_e,()=>Ne(re)),U(ce,()=>e(N).x,he=>(e(N).x=he,W(()=>e(t)))),U(me,()=>e(N).y,he=>(e(N).y=he,W(()=>e(t)))),U(se,()=>e(N).scene,he=>(e(N).scene=he,W(()=>e(t)))),ut(Se,()=>e(N).type,he=>(e(N).type=he,W(()=>e(t)))),U(Oe,()=>e(N).label,he=>(e(N).label=he,W(()=>e(t)))),U(Tt,()=>e(N).targetScene,he=>(e(N).targetScene=he,W(()=>e(t)))),v(C,ne)}),r(x),B(()=>A(L,`Hotspots (${e(t),m(()=>e(t).hotspots.length)??""})`)),v(w,x)},S=w=>{var x=Jr(),R=a(x);Xt(R,{class:"w-12 h-12 mx-auto mb-4"}),ue(2),r(x),v(w,x)};Q(F,w=>{e(t),m(()=>e(t).hotspots&&e(t).hotspots.length>0)?w(k):w(S,!1)})}r(d),y("click",h,we),U(V,()=>e(t).panoramic,w=>p(t,e(t).panoramic=w)),y("input",V,w=>{try{p(t,e(t).panoramic=JSON.parse(w.target.value))}catch{}}),v(s,d)};Q(De,s=>{e(K)&&s($t)})}var je=o(De,2);{var Lt=s=>{var d=qr(),n=a(d),h=o(a(n),2),M=a(h);Mt(M,{class:"w-4 h-4 mr-2"}),ue(),r(h),r(n);var G=o(n,2);{var V=k=>{var S=Yr();pt(S,7,()=>(e(t),m(()=>Object.entries(e(t).statsConfig).sort(([,w],[,x])=>(w.order||999)-(x.order||999)))),([w,x])=>[w,x.key],(w,x,R)=>{var L=rr(()=>ar(e(x),2));let Z=()=>e(L)[0],C=()=>e(L)[1];var N=Kr(),re=a(N),ne=a(re),de=a(ne);r(ne);var ge=o(ne,2),_e=a(ge);Nt(_e,{class:"w-4 h-4"}),r(ge),r(re);var xe=o(re,2),ae=a(xe),oe=o(a(ae),2);Y(oe),r(ae);var ce=o(ae,2),be=o(a(ce),2);Y(be),r(ce);var me=o(ce,2),ve=o(a(me),2);Y(ve),r(me);var se=o(me,2),Ae=o(a(se),2);Y(Ae),r(se);var Se=o(se,2),fe=o(a(Se),2);{var ye=le=>{var Oe=Hr();B(()=>{e(t),W(()=>{C()})});var et=a(Oe);et.value=et.__value="yes";var Tt=o(et);Tt.value=Tt.__value="no",r(Oe),ut(Oe,()=>e(t).stats[C().key],he=>p(t,e(t).stats[C().key]=he)),v(le,Oe)},Ft=le=>{var Oe=Br();Y(Oe),U(Oe,()=>e(t).stats[C().key],et=>p(t,e(t).stats[C().key]=et)),v(le,Oe)};Q(fe,le=>{C(),m(()=>C().key==="carport"||C().key==="pool")?le(ye):le(Ft,!1)})}r(Se),r(xe),r(N),B(()=>{A(de,`Stat Field ${e(R)+1}`),tr(oe,Z())}),y("click",ge,()=>ht(Z())),y("blur",oe,le=>tt(Z(),le.target.value)),U(be,()=>C().icon,le=>(C().icon=le,W(()=>e(t)))),U(ve,()=>C().key,le=>(C().key=le,W(()=>e(t)))),U(Ae,()=>C().order,le=>(C().order=le,W(()=>e(t)))),v(w,N)}),r(S),v(k,S)},F=k=>{var S=zr();v(k,S)};Q(G,k=>{e(t),m(()=>e(t).statsConfig&&Object.keys(e(t).statsConfig).length>0)?k(V):k(F,!1)})}r(d),y("click",h,It),v(s,d)};Q(je,s=>{e(z)&&s(Lt)})}var Ze=o(je,2);{var Ct=s=>{var d=Xr(),n=a(d),h=o(a(n),2),M=a(h);Mt(M,{class:"w-4 h-4 mr-2"}),ue(),r(h),r(n);var G=o(n,2);{var V=k=>{var S=Vr();pt(S,7,()=>(e(t),m(()=>Object.entries(e(t).projectDetails).sort(([,w],[,x])=>(w.order||999)-(x.order||999)))),([w,x])=>w,(w,x,R)=>{var L=rr(()=>ar(e(x),2));let Z=()=>e(L)[0],C=()=>e(L)[1];var N=Gr(),re=a(N),ne=a(re),de=a(ne);r(ne);var ge=o(ne,2),_e=a(ge);Nt(_e,{class:"w-4 h-4"}),r(ge),r(re);var xe=o(re,2),ae=a(xe),oe=o(a(ae),2);Y(oe),r(ae);var ce=o(ae,2),be=o(a(ce),2);Y(be),r(ce);var me=o(ce,2),ve=o(a(me),2);Y(ve),r(me),r(xe),r(N),B(()=>{A(de,`Detail Field ${e(R)+1}`),tr(oe,Z())}),y("click",ge,()=>at(Z())),y("blur",oe,se=>wt(Z(),se.target.value)),U(be,()=>C().order,se=>(C().order=se,W(()=>e(t)))),U(ve,()=>C().value,se=>(C().value=se,W(()=>e(t)))),v(w,N)}),r(S),v(k,S)},F=k=>{var S=Wr();v(k,S)};Q(G,k=>{e(t),m(()=>e(t).projectDetails&&Object.keys(e(t).projectDetails).length>0)?k(V):k(F,!1)})}r(d),y("click",h,rt),v(s,d)};Q(Ze,s=>{e(q)&&s(Ct)})}r(qe);var Ye=o(qe,2),vt=a(Ye),E=a(vt),f=a(E);r(E);var T=o(E,2),te=a(T),Pt=a(te);sr(Pt,{class:"w-4 h-4 mr-2"}),ue(),r(te);var Dt=o(te,2),Jt=a(Dt);Wt(Jt,{class:"w-4 h-4 mr-2"});var qt=o(Jt);r(Dt),r(T),r(vt),r(Ye),r(ot),B((s,d,n,h,M,G,V)=>{A(lt,D()?"Create New Project":"Edit Project"),A(jt,s),A(Et,` ${D()?"Create Project":"Save Changes"}`),b=At(l,1,"px-3 py-2 text-sm rounded-md transition-colors",null,b,d),O=At(I,1,"px-3 py-2 text-sm rounded-md transition-colors",null,O,n),nt=At(ie,1,"px-3 py-2 text-sm rounded-md transition-colors",null,nt,h),A(kt,`Content Sections (${e(t),m(()=>{var F;return((F=e(t).contentSections)==null?void 0:F.length)||0})??""})`),Te=At(Le,1,"px-3 py-2 text-sm rounded-md transition-colors",null,Te,M),A(Ve,`Panoramic & Hotspots (${e(t),m(()=>{var F;return((F=e(t).hotspots)==null?void 0:F.length)||0})??""})`),dt=At(He,1,"px-3 py-2 text-sm rounded-md transition-colors",null,dt,G),Me=At(We,1,"px-3 py-2 text-sm rounded-md transition-colors",null,Me,V),A(f,`Project ID: ${e(t),m(()=>e(t).id)??""}`),A(qt,` ${D()?"Create Project":"Save Changes"}`)},[()=>(Kt(D()),Kt(P()),m(()=>{var s;return D()?"Fill in the project details below":`Editing: ${(s=P().title)==null?void 0:s.replace(/\n/g," ")}`})),()=>({"bg-blue-100":e(u),"text-blue-700":e(u),"bg-gray-100":!e(u),"text-gray-600":!e(u)}),()=>({"bg-blue-100":e(g),"text-blue-700":e(g),"bg-gray-100":!e(g),"text-gray-600":!e(g)}),()=>({"bg-blue-100":e(X),"text-blue-700":e(X),"bg-gray-100":!e(X),"text-gray-600":!e(X)}),()=>({"bg-blue-100":e(K),"text-blue-700":e(K),"bg-gray-100":!e(K),"text-gray-600":!e(K)}),()=>({"bg-blue-100":e(z),"text-blue-700":e(z),"bg-gray-100":!e(z),"text-gray-600":!e(z)}),()=>({"bg-blue-100":e(q),"text-blue-700":e(q),"bg-gray-100":!e(q),"text-gray-600":!e(q)})],Yt),y("click",ze,$e),y("click",Fe,ke),y("click",l,()=>{i(u,!0),i(g,i(X,i(K,i(z,i(q,!1)))))}),y("click",I,()=>{i(g,!0),i(u,i(X,i(K,i(z,i(q,!1)))))}),y("click",ie,()=>{i(X,!0),i(u,i(g,i(K,i(z,i(q,!1)))))}),y("click",Le,()=>{i(K,!0),i(u,i(g,i(X,i(z,i(q,!1)))))}),y("click",He,()=>{i(z,!0),i(u,i(g,i(X,i(K,i(q,!1)))))}),y("click",We,()=>{i(q,!0),i(u,i(g,i(X,i(K,i(z,!1)))))}),y("click",te,$e),y("click",Dt,ke),v(ee,ot),er()}var ea=_('<div class="flex items-center space-x-2"><div class="w-2 h-2 bg-yellow-500 rounded-full animate-pulse"></div> <span class="text-sm text-yellow-600 font-medium">Unsaved changes</span></div>'),ta=_("<option> </option>"),ra=_("<option> </option>"),aa=_('<span class="text-yellow-600 font-medium ml-2">(Unsaved changes)</span>'),oa=_('<div class="bg-white rounded-lg shadow-sm border p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Export Project Data</h3> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"><button class="flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> </button> <button class="flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"><!> </button> <label class="flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors cursor-pointer"><!> Import JSON <input type="file" accept=".json" class="hidden"/></label> <button class="flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors">Reset Changes</button></div> <div class="text-sm text-gray-600 space-y-2"><p><strong>Download:</strong> Get the complete projects.js file with all current data</p> <p><strong>Copy:</strong> Copy the data structure to clipboard for manual editing</p> <p><strong>Import:</strong> Upload a JSON file to replace current projects</p> <p><strong>Reset:</strong> Discard all changes and restore original data</p></div></div>'),sa=_('<div class="space-y-6"><div class="bg-white rounded-lg shadow-sm border p-6"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"><div class="lg:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-2">Search Projects</label> <div class="relative"><!> <input type="text" placeholder="Search by title or description..." class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"/></div></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Category</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>All Categories</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Year</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>All Years</option><!></select></div> <div><label class="block text-sm font-medium text-gray-700 mb-2">Sort By</label> <div class="flex space-x-2"><select class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"><option>Year</option><option>Title</option><option>Category</option></select> <button class="px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors"> </button></div></div></div> <div class="mt-4 pt-4 border-t"><div class="flex items-center justify-between text-sm text-gray-600"><span> <!></span> <div class="flex space-x-2"><button class="text-blue-600 hover:text-blue-700"> </button></div></div></div></div> <!> <!></div>'),ia=_('<div class="min-h-screen bg-gray-50 py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="mb-8"><div class="flex items-center justify-between"><div><h1 class="text-3xl font-bold text-gray-900 mb-2">Project Data Manager</h1> <p class="text-gray-600">Manage your architecture project data with full CRUD operations</p></div> <div class="flex items-center space-x-3"><!> <button class="flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"><!> Save Changes</button> <button class="flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"><!> New Project</button></div></div></div> <!></div></div>');function ma(ee,$){Zt($,!1);const P=H(),D=H(),J=H();let t=H([...ir]),u=H([...ir]),g=H(null),X=H(!1),K=H(!1),z=H(!1),q=H(""),ke=H(""),$e=H(""),Ue=H("year"),j=H("desc"),pe=H(!1),we=H(!1),Ne=H(!1);const xt=()=>{const l={id:Date.now(),title:`NEW
PROJECT
NAME`,slug:"new-project-name",categoryId:"modern",year:new Date().getFullYear(),month:"JAN",description:"Add your project description here.",images:{thumbnail:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=300&fit=crop",mobile:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400&h=300&fit=crop",tablet:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=600&h=450&fit=crop",desktop:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop"},contentSections:[{title:"Main Feature",image:"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop",imageDescription:"Description of the main feature",content:"Content description for this section."}],stats:{land:"150m²",floor:"120m²",carport:"yes",pool:"no",bathroom:"2",room:"3"},statsConfig:{"LAND AREA":{icon:"land.svg",key:"land",order:1},"FLOOR AREA":{icon:"floor.svg",key:"floor",order:2},ROOM:{icon:"room.svg",key:"room",order:3},BATHROOM:{icon:"bathroom.svg",key:"bathroom",order:4},CARPORT:{icon:"garage.svg",key:"carport",order:5},POOL:{icon:"pool.svg",key:"pool",order:6}},projectDetails:{"TIPE PROYEK":{value:"Modern Style",order:1},"PRINCIPLE DESIGNER":{value:"Kurnia Firmanda Ageng, S.Ars",order:2},LOKASI:{value:"Bandar Lampung",order:3},"INTERIOR DESIGNER":{value:"Kurnia Firmanda Ageng, S.Ars",order:4}}};i(t,[...e(t),l]),i(g,l),i(K,!0),i(X,!0)},It=l=>{i(g,{...l}),i(X,!0),i(K,!1)},ht=l=>{e(K)?i(t,e(t).map(b=>b.id===l.id?l:b)):i(t,e(t).map(b=>b.id===l.id?l:b)),i(g,null),i(X,!1),i(K,!1)},tt=l=>{confirm("Are you sure you want to delete this project?")&&(i(t,e(t).filter(b=>b.id!==l)),e(g)&&e(g).id===l&&(i(g,null),i(X,!1),i(K,!1)))},c=()=>{e(K)&&i(t,e(t).filter(l=>l.id!==e(g).id)),i(g,null),i(X,!1),i(K,!1)},rt=l=>{const b={...l,id:Date.now(),title:l.title.replace(/\n/g," ")+" Copy",slug:l.slug+"-copy",contentSections:[...l.contentSections],stats:{...l.stats},statsConfig:{...l.statsConfig},projectDetails:{...l.projectDetails}};i(t,[...e(t),b])},at=()=>{const l=`// src/lib/data/projects.js

const BASE_URL = 'https://dafahan.github.io/2Watuju';

export const projects = ${JSON.stringify(e(t),null,2)};

export const projectStatuses = {
  planning: 'Perencanaan',
  'in-progress': 'Dalam Proses',
  completed: 'Selesai'
};

// Helper functions
export const getAllProjects = () => projects;
export const getFeaturedProjects = () => projects.filter(project => project.featured);
export const getProjectBySlug = (slug) => projects.find(project => project.slug === slug);
export const getProjectsByCategoryId = (categoryId) => projects.filter(project => project.categoryId === categoryId);
export const getProjectsByStatus = (status) => projects.filter(project => project.status === status);

// UPDATED: Efficient helper function for stats
export const getOrderedStats = (project) => {
  if (!project.stats || !project.statsConfig) return [];
  
  return Object.entries(project.statsConfig)
    .map(([label, config]) => ({
      label,
      value: project.stats[config.key],
      icon: config.icon,
      order: config.order
    }))
    .filter(stat => stat.value !== undefined) // Only include stats that have values
    .sort((a, b) => (a.order || 999) - (b.order || 999));
};

// UPDATED: Efficient helper function for project details
export const getOrderedProjectDetails = (project) => {
  if (!project.projectDetails) return [];
  
  return Object.entries(project.projectDetails)
    .map(([label, detail]) => {
      // Support both old format (string) and new format (object)
      if (typeof detail === 'string') {
        return { label, value: detail, order: 999 };
      }
      return { label, value: detail.value, order: detail.order };
    })
    .sort((a, b) => (a.order || 999) - (b.order || 999));
};`,b=new Blob([l],{type:"application/javascript"}),I=URL.createObjectURL(b),O=document.createElement("a");O.href=I,O.download="projects.js",document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(I),i(Ne,!0),setTimeout(()=>i(Ne,!1),2e3)},wt=async()=>{const l=`// src/lib/data/projects.js

const BASE_URL = 'https://dafahan.github.io/2Watuju';

export const projects = ${JSON.stringify(e(t),null,2)};

// ... rest of the helper functions`;try{await navigator.clipboard.writeText(l),i(we,!0),setTimeout(()=>i(we,!1),2e3)}catch(b){console.error("Failed to copy to clipboard:",b)}},ot=()=>{confirm("Are you sure you want to reset all changes? This will lose all unsaved modifications.")&&(i(t,[...e(u)]),i(g,null),i(X,!1),i(K,!1))},st=()=>{i(u,[...e(t)]),i(z,!1)},it=l=>{const b=l.target.files[0];if(b&&b.type==="application/json"){const I=new FileReader;I.onload=O=>{try{const ie=JSON.parse(O.target.result);Array.isArray(ie)?confirm("This will replace all current projects. Continue?")&&(i(t,ie),i(u,[...ie])):alert("Invalid JSON format. Please upload a valid projects array.")}catch(ie){alert("Error parsing JSON file: "+ie.message)}},I.readAsText(b)}};dr(()=>{if(typeof window<"u"){const l=localStorage.getItem("unsaved-projects");if(l){const b=JSON.parse(l);confirm("Found unsaved changes. Do you want to restore them?")?i(t,b):localStorage.removeItem("unsaved-projects")}}}),Ot(()=>e(t),()=>{i(P,[...new Set(e(t).map(l=>l.year))].sort((l,b)=>b-l))}),Ot(()=>e(t),()=>{i(D,[...new Set(e(t).map(l=>l.categoryId))])}),Ot(()=>(e(t),e(q),e(ke),e($e),e(Ue),e(j)),()=>{i(J,e(t).filter(l=>!(e(q)&&!l.title.toLowerCase().includes(e(q).toLowerCase())&&!l.description.toLowerCase().includes(e(q).toLowerCase())||e(ke)&&l.categoryId!==e(ke)||e($e)&&l.year.toString()!==e($e))).sort((l,b)=>{let I,O;switch(e(Ue)){case"title":I=l.title.toLowerCase(),O=b.title.toLowerCase();break;case"year":I=l.year,O=b.year;break;case"category":I=l.categoryId,O=b.categoryId;break;default:I=l.id,O=b.id}return e(j)==="desc"?I>O?-1:I<O?1:0:I<O?-1:I>O?1:0}))}),Ot(()=>(e(t),e(u)),()=>{i(z,JSON.stringify(e(t))!==JSON.stringify(e(u)))}),Ot(()=>(e(z),e(t)),()=>{typeof window<"u"&&e(z)&&localStorage.setItem("unsaved-projects",JSON.stringify(e(t)))}),nr(),Qt();var Ie=ia();cr(l=>{vr.title="Project Data Manager | 2WATUJU"});var Ce=a(Ie),lt=a(Ce),Ee=a(lt),jt=o(a(Ee),2),Je=a(jt);{var ze=l=>{var b=ea();v(l,b)};Q(Je,l=>{e(z)&&l(ze)})}var Pe=o(Je,2),Fe=a(Pe);Wt(Fe,{class:"w-4 h-4 mr-2"}),ue(),r(Pe);var Re=o(Pe,2),Et=a(Re);Mt(Et,{class:"w-4 h-4 mr-2"}),ue(),r(Re),r(jt),r(Ee),r(lt);var qe=o(lt,2);{var Ge=l=>{Zr(l,{get project(){return e(g)},get isCreating(){return e(K)},get categories(){return e(D)},$$events:{save:b=>ht(b.detail),cancel:c}})},St=l=>{var b=sa(),I=a(b),O=a(I),ie=a(O),nt=o(a(ie),2),kt=a(nt);_r(kt,{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"});var Le=o(kt,2);Y(Le),r(nt),r(ie);var Te=o(ie,2),Ve=o(a(Te),2);B(()=>{e(ke),W(()=>{e(D)})});var He=a(Ve);He.value=He.__value="";var dt=o(He);pt(dt,1,()=>e(D),zt,(s,d)=>{var n=ta(),h=a(n,!0);r(n);var M={};B(()=>{A(h,e(d)),M!==(M=e(d))&&(n.value=(n.__value=e(d))??"")}),v(s,n)}),r(Ve),r(Te);var We=o(Te,2),Me=o(a(We),2);B(()=>{e($e),W(()=>{e(P)})});var Be=a(Me);Be.value=Be.__value="";var Rt=o(Be);pt(Rt,1,()=>e(P),zt,(s,d)=>{var n=ra(),h=a(n,!0);r(n);var M={};B(G=>{A(h,e(d)),M!==(M=G)&&(n.value=(n.__value=G)??"")},[()=>(e(d),m(()=>e(d).toString()))],Yt),v(s,n)}),r(Me),r(We);var Xe=o(We,2),ct=o(a(Xe),2),Ke=a(ct);B(()=>{e(Ue),W(()=>{})});var Qe=a(Ke);Qe.value=Qe.__value="year";var De=o(Qe);De.value=De.__value="title";var $t=o(De);$t.value=$t.__value="category",r(Ke);var je=o(Ke,2),Lt=a(je,!0);r(je),r(ct),r(Xe),r(O);var Ze=o(O,2),Ct=a(Ze),Ye=a(Ct),vt=a(Ye),E=o(vt);{var f=s=>{var d=aa();v(s,d)};Q(E,s=>{e(z)&&s(f)})}r(Ye);var T=o(Ye,2),te=a(T),Pt=a(te);r(te),r(T),r(Ct),r(Ze),r(I);var Dt=o(I,2);{var Jt=s=>{var d=oa(),n=o(a(d),2),h=a(n),M=a(h);ur(M,{class:"w-4 h-4 mr-2"});var G=o(M);r(h);var V=o(h,2),F=a(V);Vt(F,{class:"w-4 h-4 mr-2"});var k=o(F);r(V);var S=o(V,2),w=a(S);pr(w,{class:"w-4 h-4 mr-2"});var x=o(w,2);r(S);var R=o(S,2);r(n),ue(2),r(d),B(()=>{A(G,` ${e(Ne)?"Downloaded!":"Download projects.js"}`),A(k,` ${e(we)?"Copied!":"Copy to Clipboard"}`),R.disabled=!e(z)}),y("click",h,at),y("click",V,wt),y("change",x,it),y("click",R,ot),v(s,d)};Q(Dt,s=>{e(pe)&&s(Jt)})}var qt=o(Dt,2);Ar(qt,{get projects(){return e(J)},$$events:{edit:s=>It(s.detail),delete:s=>tt(s.detail),duplicate:s=>rt(s.detail)}}),r(b),B(()=>{Ut(je,"title",e(j)==="asc"?"Sort Descending":"Sort Ascending"),A(Lt,e(j)==="asc"?"↑":"↓"),A(vt,`Showing ${e(J),m(()=>e(J).length)??""} of ${e(t),m(()=>e(t).length)??""} projects `),A(Pt,`${e(pe)?"Hide":"Show"} Data Export`)}),U(Le,()=>e(q),s=>i(q,s)),ut(Ve,()=>e(ke),s=>i(ke,s)),ut(Me,()=>e($e),s=>i($e,s)),ut(Ke,()=>e(Ue),s=>i(Ue,s)),y("click",je,()=>i(j,e(j)==="asc"?"desc":"asc")),y("click",te,()=>i(pe,!e(pe))),v(l,b)};Q(qe,l=>{e(X)?l(Ge):l(St,!1)})}r(Ce),r(Ie),B(()=>Pe.disabled=!e(z)),y("click",Pe,st),y("click",Re,xt),v(ee,Ie),er()}export{ma as component};
